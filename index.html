<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Analisis Muat Alumina Kijing</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
      
       .average-row {
        background-color: #e0e7ff !important;
        font-weight: bold;
    }
    
    .average-row td {
        border-top: 2px solid #818cf8;
        border-bottom: 2px solid #818cf8;
    }
    
    .grand-total td {
        border-top: 3px solid #d35400;
    }
      
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #3b82f6;
            transition: transform 0.2s;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .stat-card.success {
            border-left-color: #10b981;
        }
        
        .stat-card.warning {
            border-left-color: #f59e0b;
        }
        
        .stat-card.danger {
            border-left-color: #ef4444;
        }
        
        .stat-title {
            font-size: 0.9em;
            color: #64748b;
            margin-bottom: 8px;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-value.success {
            color: #10b981;
        }
        
        .stat-value.warning {
            color: #f59e0b;
        }
        
        .stat-value.danger {
            color: #ef4444;
        }
        
        .stat-subtitle {
            font-size: 0.8em;
            color: #64748b;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: #e2e8f0;
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        .progress-fill.success {
            background-color: #10b981;
        }
        
        .progress-fill.warning {
            background-color: #f59e0b;
        }
        
        .progress-fill.danger {
            background-color: #ef4444;
        }
        
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .chart-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #1e293b;
        }
        
        .chart-canvas {
            max-height: 400px;
        }
        
        .table-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .table-header {
            background: #f1f5f9;
            padding: 20px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .table-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #1e293b;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
            border-right: 1px solid #e2e8f0;
        }
        
        th {
            background-color: #f8fafc;
            font-weight: 600;
            color: #475569;
            font-size: 0.9em;
        }
        
        td {
            font-size: 0.9em;
        }
        
        tr:hover {
            background-color: #f8fafc;
        }
        
        .truck-id {
            font-weight: bold;
            color: #3b82f6;
        }
        
        .performance-good {
            color: #10b981;
            font-weight: bold;
        }
        
        .performance-average {
            color: #f59e0b;
            font-weight: bold;
        }
        
        .performance-poor {
            color: #ef4444;
            font-weight: bold;
        }
        
        .time-warning {
            background-color: #fef3c7;
            color: #92400e;
            font-weight: bold;
        }
        
        .time-danger {
            background-color: #fecaca;
            color: #991b1b;
            font-weight: bold;
        }
        
        .highlight-total {
            background-color: #fef3c7 !important;
            font-weight: bold;
        }
        
        .highlight-summary {
            background-color: #ddd6fe !important;
            font-weight: bold;
        }
        
        .tab-container {
            margin-bottom: 20px;
        }
        
        .tab-buttons {
            display: flex;
            background: white;
            border-radius: 8px;
            padding: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        .tab-button {
            flex: 1;
            padding: 12px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .tab-button.active {
            background: #3b82f6;
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .plat-no {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .grand-total {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%) !important;
            color: white !important;
            font-weight: 700;
        }
        
        .grand-total td {
            border-top: 3px solid #d35400;
            font-size: 0.9rem;
        }

        /* Drilling Filter Styles */
        .drilling-filter-section {
            padding: 15px;
            background: rgba(255, 255, 255, 0.8);
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 15px;
        }

        .drilling-filter-group {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .drilling-filter-label {
            font-weight: 600;
            font-size: 1rem;
            color: #2c3e50;
        }

        .drilling-filter-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .drilling-filter-btn {
            padding: 10px 20px;
            border: 2px solid #3498db;
            background: white;
            color: #3498db;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .drilling-filter-btn:hover {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .drilling-filter-btn.active {
            background: #3498db;
            color: white;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .chart-grid {
                grid-template-columns: 1fr;
            }

            .drilling-filter-group {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Evaluasi Muat alumina Shipment Kedua di Pelabuhan Kijing</h1>
    
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card success">
                <div class="stat-title">Total Truk Aktif</div>
                <div class="stat-value warning">18</div>
                <div class="stat-subtitle">18 Truk vs 20 Truk</div>
                <div class="progress-bar">
                    <div class="progress-fill warning" style="width: 80%"></div>
                </div>
            </div>
            
            <div class="stat-card warning">
                <div class="stat-title">Produksi Achievement</div>
                <div class="stat-value danger">51.47%</div>
                <div class="stat-subtitle">2471 TSD vs 4800 TSD target</div>
                <div class="progress-bar">
                    <div class="progress-fill danger" style="width: 51.47%"></div>
                </div>
            </div>
            
            <div class="stat-card success">
                <div class="stat-title">Total Cycle time</div>
                <div class="stat-value danger">+50.11%</div>
                <div class="stat-subtitle">192.14 vs 128 menit</div>
                <div class="progress-bar">
                    <div class="progress-fill danger" style="width: 50.11%"></div>
                </div>
            </div>
            
            <div class="stat-card success">
                <div class="stat-title">Ritase/Day Achievement</div>
                <div class="stat-value warning">64.06%</div>
                <div class="stat-subtitle">6.7 vs 10 Rit</div>
                <div class="progress-bar">
                    <div class="progress-fill warning" style="width: 64.06%"></div>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button active" onclick="showTab('operational')">üìä Analisis Operasional</button>
                <button class="tab-button" onclick="showTab('truck-performance')">üöõ Performa Truk</button>
                <button class="tab-button" onclick="showTab('daily-analysis')">üìÖ Analisis Harian</button>
            </div>

            <!-- Operational Tab -->
            <div id="operational" class="tab-content active">
                <div class="chart-grid">
                    <div class="chart-container">
                        <div class="chart-title">üìà Trend Produksi Harian</div>
                        <canvas id="produksiChart" class="chart-canvas"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">üîÑ Ritase vs Target</div>
                        <canvas id="ritaseChart" class="chart-canvas"></canvas>
                    </div>
                </div>

                <div class="chart-grid">
                    <div class="chart-container">
                        <div class="chart-title">‚ö° Produktivitas Trend</div>
                        <canvas id="produktivitasChart" class="chart-canvas"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">üöö Kapasitas & Trip per Day</div>
                        <canvas id="kapasitasChart" class="chart-canvas"></canvas>
                    </div>
                </div>
            </div>

            <!-- Truck Performance Tab -->
            <div id="truck-performance" class="tab-content">
                <div class="chart-container">
                    <div class="chart-title">üèÜ Top 10 Performa Truk (by Average Netto)</div>
                    <canvas id="truckChart" class="chart-canvas"></canvas>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">üìã Detail Performa Truk per Hari</div>
                    </div>
                    <div style="overflow-x: auto; max-height: 500px;">
                        <table id="truckTable">
                            <thead>
                                <tr>
                                    <th>Truk ID</th>
                                    <th>Hari 1 (20/7)</th>
                                    <th>Hari 2 (21/7)</th>
                                    <th>Hari 3 (22/7)</th>
                                    <th>Hari 4 (23/7)</th>
                                    <th>Hari 5 (24/7)</th>
                                    <th>Hari 6 (25/7)</th>
                                    <th>Avg Netto</th>
                                    <th>Total Siklus</th>
                                </tr>
                            </thead>
                            <tbody id="truckTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Daily Analysis Tab -->
            <div id="daily-analysis" class="tab-content">
                <!-- Detailed Operations Table -->
                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">‚è±Ô∏è Breakdown Waktu Operasional per Parameter</div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table>
                            <tbody>
    <tr>
        <td rowspan="2" style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Parameter</td>
        <td rowspan="2" style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Deskripsi</td>
        <td rowspan="2" style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">PIC</td>
        <td rowspan="2" style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Plan</td>
        <td colspan="6" style="background: #1e40af; color: white; text-align: center; font-weight: bold;">Realisasi</td>
        <td rowspan="2" style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Sat</td>
    </tr>
    <tr>
        <td style="background: #3b82f6; color: white; font-weight: bold;">20 Juli</td>
        <td style="background: #3b82f6; color: white; font-weight: bold;">21 Juli</td>
        <td style="background: #3b82f6; color: white; font-weight: bold;">22 Juli</td>
        <td style="background: #3b82f6; color: white; font-weight: bold;">23 Juli</td>
        <td style="background: #3b82f6; color: white; font-weight: bold;">24 Juli</td>
        <td style="background: #3b82f6; color: white; font-weight: bold;">25 Juli</td>
    </tr>
    
    <!-- A - Cycle Port Operation -->
    <tr>
        <td rowspan="7" style="vertical-align: middle; font-weight: bold; background: #f1f5f9;">A - Cycle Port Operation</td>
        <td>Waktu Gate-in to Plugging</td>
        <td>SBL</td>
        <td>14.00</td>
        <td class="performance-poor">81.41 <span style="color: #ef4444;">(17%)</span></td>
        <td class="performance-poor">41.95 <span style="color: #ef4444;">(33%)</span></td>
        <td class="performance-poor">51.00 <span style="color: #ef4444;">(27%)</span></td>
        <td class="performance-poor">38.52 <span style="color: #ef4444;">(36%)</span></td>
        <td class="performance-poor">38.31 <span style="color: #ef4444;">(37%)</span></td>
        <td class="performance-poor">53.46 <span style="color: #ef4444;">(26%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Proses Plugging Flexible Hose Ke Konnector truck</td>
        <td>SPMT</td>
        <td>5.00</td>
        <td class="performance-good">4.76 <span style="color: #10b981;">(105%)</span></td>
        <td class="performance-average">7.19 <span style="color: #f59e0b;">(70%)</span></td>
        <td class="performance-average">7.13 <span style="color: #f59e0b;">(70%)</span></td>
        <td class="performance-poor">16.69 <span style="color: #ef4444;">(30%)</span></td>
        <td class="performance-good">4.60 <span style="color: #10b981;">(109%)</span></td>
        <td class="performance-good">2.86 <span style="color: #10b981;">(175%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Proses menaikan pressure</td>
        <td>SBL</td>
        <td>15.00</td>
        <td class="performance-good">3.44 <span style="color: #10b981;">(436%)</span></td>
        <td class="performance-good">4.12 <span style="color: #10b981;">(364%)</span></td>
        <td class="performance-good">6.67 <span style="color: #10b981;">(225%)</span></td>
        <td class="performance-good">2.67 <span style="color: #10b981;">(562%)</span></td>
        <td class="performance-good">3.18 <span style="color: #10b981;">(472%)</span></td>
        <td class="performance-good">3.97 <span style="color: #10b981;">(378%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Proses Pemompaan Alumina Ke kapal</td>
        <td>SBL/SPMT</td>
        <td>45.00</td>
        <td class="performance-average">45.50 <span style="color: #f59e0b;">(99%)</span></td>
        <td class="performance-good">40.12 <span style="color: #10b981;">(112%)</span></td>
        <td class="performance-good">43.20 <span style="color: #10b981;">(104%)</span></td>
        <td class="performance-good">38.65 <span style="color: #10b981;">(116%)</span></td>
        <td class="performance-good">43.94 <span style="color: #10b981;">(102%)</span></td>
        <td class="performance-average">45.30 <span style="color: #f59e0b;">(99%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Proses Unplugging Flexible Hose dari Truck</td>
        <td>SPMT</td>
        <td>5.00</td>
        <td class="performance-good">2.63 <span style="color: #10b981;">(190%)</span></td>
        <td class="performance-good">3.92 <span style="color: #10b981;">(128%)</span></td>
        <td class="performance-average">6.83 <span style="color: #f59e0b;">(73%)</span></td>
        <td class="performance-good">3.42 <span style="color: #10b981;">(146%)</span></td>
        <td class="performance-good">2.27 <span style="color: #10b981;">(220%)</span></td>
        <td class="performance-good">3.74 <span style="color: #10b981;">(134%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Waktu Unplugging to Gate-out</td>
        <td>SBL</td>
        <td>14.00</td>
        <td class="performance-good">12.33 <span style="color: #10b981;">(114%)</span></td>
        <td class="performance-good">13.74 <span style="color: #10b981;">(102%)</span></td>
        <td class="performance-good">10.94 <span style="color: #10b981;">(128%)</span></td>
        <td class="performance-good">12.89 <span style="color: #10b981;">(109%)</span></td>
        <td class="performance-good">9.76 <span style="color: #10b981;">(143%)</span></td>
        <td class="performance-good">11.45 <span style="color: #10b981;">(122%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td class="highlight-total">Total waktu per truk</td>
        <td class="highlight-total"></td>
        <td class="highlight-total">98.00</td>
        <td class="time-danger">150.07 <span style="color: #ef4444;">(65%)</span></td>
        <td class="time-warning">111.03 <span style="color: #f59e0b;">(88%)</span></td>
        <td class="time-warning">125.76 <span style="color: #f59e0b;">(78%)</span></td>
        <td class="time-warning">112.85 <span style="color: #f59e0b;">(87%)</span></td>
        <td class="time-warning">102.06 <span style="color: #f59e0b;">(96%)</span></td>
        <td class="time-warning">120.78 <span style="color: #f59e0b;">(81%)</span></td>
        <td class="highlight-total">Menit</td>
    </tr>
    
    <!-- B - Cycle Silo to Port -->
    <tr>
        <td rowspan="4" style="vertical-align: middle; font-weight: bold; background: #f1f5f9;">B - Cycle Silo to Port</td>
        <td>Antri dan Muat Silo</td>
        <td>SBL/BAI</td>
        <td>5.00</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Perjalanan ke pelabuhan (11 km)</td>
        <td>SBL</td>
        <td>15.00</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Kembali ke pelabuhan (11 km)</td>
        <td>SBL</td>
        <td>10.00</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td class="highlight-total">Total waktu per truk</td>
        <td class="highlight-total"></td>
        <td class="highlight-total">30.00</td>
        <td class="time-warning">43.30 <span style="color: #f59e0b;">(69%)</span></td>
        <td class="time-danger">81.76 <span style="color: #ef4444;">(37%)</span></td>
        <td class="time-danger">74.76 <span style="color: #ef4444;">(40%)</span></td>
        <td class="time-danger">71.17 <span style="color: #ef4444;">(42%)</span></td>
        <td class="time-danger">79.09 <span style="color: #ef4444;">(38%)</span></td>
        <td class="time-danger">82.03 <span style="color: #ef4444;">(37%)</span></td>
        <td class="highlight-total">Menit</td>
    </tr>
    
    <!-- Summary Rows -->
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Turn Round Trip</td>
        <td class="highlight-total">Total Waktu A + B</td>
        <td class="highlight-total"></td>
        <td class="highlight-total">128.00</td>
        <td class="time-danger">193.38 <span style="color: #ef4444;">(66%)</span></td>
        <td class="time-danger">192.78 <span style="color: #ef4444;">(66%)</span></td>
        <td class="time-danger">200.53 <span style="color: #ef4444;">(64%)</span></td>
        <td class="time-danger">184.02 <span style="color: #ef4444;">(70%)</span></td>
        <td class="time-danger">181.15 <span style="color: #ef4444;">(71%)</span></td>
        <td class="time-danger">202.81 <span style="color: #ef4444;">(63%)</span></td>
        <td class="highlight-total">Menit</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Trip per day</td>
        <td>siklus per hari per truk</td>
        <td></td>
        <td>10.00</td>
        <td class="performance-poor">3.60 <span style="color: #ef4444;">(36%)</span></td>
        <td class="performance-good">7.40 <span style="color: #10b981;">(74%)</span></td>
        <td class="performance-good">7.33 <span style="color: #10b981;">(73%)</span></td>
        <td class="performance-good">7.53 <span style="color: #10b981;">(75%)</span></td>
        <td class="performance-good">7.21 <span style="color: #10b981;">(72%)</span></td>
        <td class="performance-average">5.35 <span style="color: #f59e0b;">(54%)</span></td>
        <td>Trip</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Kebutuhan truk/hari</td>
        <td>3 shift</td>
        <td>BAI</td>
        <td>16.00</td>
        <td class="performance-average">15.00 <span style="color: #f59e0b;">(94%)</span></td>
        <td class="performance-average">15.00 <span style="color: #f59e0b;">(94%)</span></td>
        <td class="performance-average">15.00 <span style="color: #f59e0b;">(94%)</span></td>
        <td class="performance-average">15.00 <span style="color: #f59e0b;">(94%)</span></td>
        <td class="performance-poor">14.00 <span style="color: #ef4444;">(88%)</span></td>
        <td class="performance-poor">17.00 <span style="color: #ef4444;">(106%)</span></td>
        <td>Truk</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Ritase</td>
        <td>16 x trip per day</td>
        <td></td>
        <td>160.00</td>
        <td class="performance-poor">54.00 <span style="color: #ef4444;">(34%)</span></td>
        <td class="performance-good">111.00 <span style="color: #10b981;">(69%)</span></td>
        <td class="performance-good">110.00 <span style="color: #10b981;">(69%)</span></td>
        <td class="performance-good">113.00 <span style="color: #10b981;">(71%)</span></td>
        <td class="performance-good">101.00 <span style="color: #10b981;">(63%)</span></td>
        <td class="performance-average">91.00 <span style="color: #f59e0b;">(57%)</span></td>
        <td>Rit</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Kapasitas Trucking</td>
        <td>Kapasitas tonase per truk</td>
        <td>BAI</td>
        <td>30.00</td>
        <td class="performance-average">26.15 <span style="color: #f59e0b;">(87%)</span></td>
        <td class="performance-average">25.65 <span style="color: #f59e0b;">(86%)</span></td>
        <td class="performance-average">25.75 <span style="color: #f59e0b;">(86%)</span></td>
        <td class="performance-average">26.11 <span style="color: #f59e0b;">(87%)</span></td>
        <td class="performance-average">25.02 <span style="color: #f59e0b;">(83%)</span></td>
        <td class="performance-average">24.79 <span style="color: #f59e0b;">(83%)</span></td>
        <td>MT</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Kinerja per jam</td>
        <td>produksi harian / waktu efektif</td>
        <td></td>
        <td>300.00</td>
        <td class="performance-poor">125.43 <span style="color: #ef4444;">(42%)</span></td>
        <td class="performance-average">172.94 <span style="color: #f59e0b;">(58%)</span></td>
        <td class="performance-average">175.46 <span style="color: #f59e0b;">(58%)</span></td>
        <td class="performance-average">167.62 <span style="color: #f59e0b;">(56%)</span></td>
        <td class="performance-average">129.02 <span style="color: #f59e0b;">(43%)</span></td>
        <td class="performance-average">415.44 <span style="color: #f59e0b;">(138%)</span></td>
        <td>TGH</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Effective Time</td>
        <td>Effektive time 21 jam / Hari</td>
        <td></td>
        <td>20.00</td>
        <td class="performance-average">16.24 <span style="color: #f59e0b;">(81%)</span></td>
        <td class="performance-average">17.50 <span style="color: #f59e0b;">(88%)</span></td>
        <td class="performance-average">16.22 <span style="color: #f59e0b;">(81%)</span></td>
        <td class="performance-average">16.40 <span style="color: #f59e0b;">(82%)</span></td>
        <td class="performance-average">19.40 <span style="color: #f59e0b;">(97%)</span></td>
        <td class="performance-poor">4.21 <span style="color: #ef4444;">(21%)</span></td>
        <td>Jam</td>
    </tr>
    
    <tr>
        <td class="highlight-summary" style="font-weight: bold; background: #ddd6fe;">Produktivitas Perpalka/ Day</td>
        <td class="highlight-summary">Per Palka dilayani 2 hiblow truck</td>
        <td class="highlight-summary"></td>
        <td class="highlight-summary">960.00</td>
        <td class="highlight-summary performance-poor">407.40 <span style="color: #ef4444;">(42%)</span></td>
        <td class="highlight-summary performance-average">588.00 <span style="color: #f59e0b;">(61%)</span></td>
        <td class="highlight-summary performance-average">569.20 <span style="color: #f59e0b;">(59%)</span></td>
        <td class="highlight-summary performance-average">549.80 <span style="color: #f59e0b;">(57%)</span></td>
        <td class="highlight-summary performance-average">500.60 <span style="color: #f59e0b;">(52%)</span></td>
        <td class="highlight-summary performance-poor">349.80 <span style="color: #ef4444;">(36%)</span></td>
        <td class="highlight-summary">MT</td>
    </tr>
    
    <tr>
        <td class="highlight-summary" style="font-weight: bold; background: #ddd6fe;">Produksi per day</td>
        <td class="highlight-summary">5 Palka</td>
        <td class="highlight-summary"></td>
        <td class="highlight-summary">4800.00</td>
        <td class="highlight-summary performance-poor">2037.00 <span style="color: #ef4444;">(42%)</span></td>
        <td class="highlight-summary performance-good">2940.00 <span style="color: #10b981;">(61%)</span></td>
        <td class="highlight-summary performance-good">2846.00 <span style="color: #10b981;">(59%)</span></td>
        <td class="highlight-summary performance-good">2749.00 <span style="color: #10b981;">(57%)</span></td>
        <td class="highlight-summary performance-average">2503.00 <span style="color: #f59e0b;">(52%)</span></td>
        <td class="highlight-summary performance-poor">1749.00 <span style="color: #ef4444;">(36%)</span></td>
        <td class="highlight-summary">TSD</td>
    </tr>
</tbody>
                            
                        </table>
                    </div>
                </div>

               
                <!-- Drilling Operations Table -->
                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">üõ¢Ô∏è Booster Operations Data</div>
                    </div>
                    <div class="drilling-filter-section">
                        <div class="drilling-filter-group">
                            <span class="drilling-filter-label">Booster Pump:</span>
                            <div class="drilling-filter-buttons">
                                <button class="drilling-filter-btn active" onclick="filterDrillingData('all')">All</button>
                                <button class="drilling-filter-btn" onclick="filterDrillingData('booster')">Booster</button>
                                <button class="drilling-filter-btn" onclick="filterDrillingData('non-booster')">Non Booster</button>
                            </div>
                        </div>
                    </div>
					
				
					
					
					<!-- Add this right after the .drilling-filter-section div -->
<div class="stats-grid" style="margin-top: 15px; margin-bottom: 20px;">
    <div class="stat-card">
        <div class="stat-title">Total Trucks</div>
        <div class="stat-value" id="drillingTotalPlatforms">0</div>
        <div class="stat-subtitle">Active trucks</div>
        
    </div>
    
    <div class="stat-card">
        <div class="stat-title">Total Cycles</div>
        <div class="stat-value" id="drillingTotalCycles">0</div>
        <div class="stat-subtitle">Completed cycles</div>
        
    </div>
    
    <div class="stat-card">
        <div class="stat-title">Avg Netto</div>
        <div class="stat-value" id="drillingAvgNetto">0</div>
        <div class="stat-subtitle">Tons per cycle</div>
        
    </div>
    
    
    </div>
</div>
                    <div style="overflow-x: auto;">
                        <table class="data-table" id="drillingTable">
                            <thead>
                                <tr>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Plat</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Netto</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Rit</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Gate-in to Plug</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Proses Plugging</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Naik Pressure</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Durasi Muat</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Proses Unplugging</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Unplugging to Gateout</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Port Operation</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Silo to Port</th>
                                </tr>
                            </thead>
                            <tbody id="drillingTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
	
	
	
        // Data trucking per hari
        const truckData = {
            day1: {
                'A9568U': { netto: 29.67, siklus: 3 },
                'B9051IB': { netto: 26.19, siklus: 1 },
                'B9222UDA': { netto: 27.02, siklus: 4 },
                'B9281GCB': { netto: 28.39, siklus: 3 },
                'B9283XA': { netto: 32.98, siklus: 3 },
                'B9284GCB': { netto: 28.4, siklus: 4 },
                'B9732UDO': { netto: 28.64, siklus: 4 },
                'B9878UFV': { netto: 21.29, siklus: 3 },
                'B9917UFV': { netto: 25.18, siklus: 5 },
                'B9925UFV': { netto: 26.21, siklus: 4 },
                'B9948UFV': { netto: 22.17, siklus: 4 },
                'B9956UFV': { netto: 24.50, siklus: 4 },
                'BE8019ABU': { netto: 22.97, siklus: 4 },
                'BE8267ACU': { netto: 24.22, siklus: 4 },
                'BE8297ACU': { netto: 26.67, siklus: 4 }
            },
            day2: {
                'A9568U': { netto: 30.92, siklus: 6 },
                'B9051IB': { netto: 27.04, siklus: 5 },
                'B9222UDA': { netto: 25.57, siklus: 7 },
                'B9281GCB': { netto: 26.60, siklus: 8 },
                'B9283XA': { netto: 30.51, siklus: 8 },
                'B9284GCB': { netto: 27.30, siklus: 6 },
                'B9732UDO': { netto: 28.18, siklus: 8 },
                'B9878UFV': { netto: 23.75, siklus: 8 },
                'B9917UFV': { netto: 24.16, siklus: 7 },
                'B9925UFV': { netto: 24.41, siklus: 8 },
                'B9948UFV': { netto: 22.12, siklus: 8 },
                'B9956UFV': { netto: 22.90, siklus: 8 },
                'BE8019ABU': { netto: 22.66, siklus: 8 },
                'BE8267ACU': { netto: 24.92, siklus: 8 },
                'BE8297ACU': { netto: 25.76, siklus: 8 }
            },
            day3: {
                'A9568U': { netto: 31.36, siklus: 6 },
                'B9051IB': { netto: 27.31, siklus: 7 },
                'B9222UDA': { netto: 26.86, siklus: 9 },
                'B9281GCB': { netto: 26.85, siklus: 7 },
                'B9283XA': { netto: 30.52, siklus: 7 },
                'B9284GCB': { netto: 26.82, siklus: 7 },
                'B9732UDO': { netto: 28.07, siklus: 7 },
                'B9878UFV': { netto: 21.73, siklus: 8 },
                'B9917UFV': { netto: 24.23, siklus: 8 },
                'B9925UFV': { netto: 24.62, siklus: 7 },
                'B9948UFV': { netto: 23.25, siklus: 7 },
                'B9956UFV': { netto: 21.39, siklus: 7 },
                'BE8019ABU': { netto: 22.22, siklus: 7 },
                'BE8267ACU': { netto: 26.03, siklus: 8 },
                'BE8297ACU': { netto: 26.19, siklus: 8 }
            },
            day4: {
                'A9568U': { netto: 31.36, siklus: 6 },
                'B9051IB': { netto: 27.31, siklus: 7 },
                'B9222UDA': { netto: 26.86, siklus: 9 },
                'B9281GCB': { netto: 26.85, siklus: 7 },
                'B9283XA': { netto: 30.52, siklus: 7 },
                'B9284GCB': { netto: 26.82, siklus: 7 },
                'B9732UDO': { netto: 28.07, siklus: 7 },
                'B9878UFV': { netto: 21.73, siklus: 8 },
                'B9917UFV': { netto: 24.23, siklus: 8 },
                'B9925UFV': { netto: 24.62, siklus: 7 },
                'B9948UFV': { netto: 23.25, siklus: 7 },
                'B9956UFV': { netto: 21.39, siklus: 7 },
                'BE8019ABU': { netto: 22.22, siklus: 7 },
                'BE8267ACU': { netto: 26.03, siklus: 8 },
                'BE8297ACU': { netto: 26.19, siklus: 8 }
            },
            day5: {
                'A9568U': { netto: 31.09, siklus: 5 },
                'B9051IB': { netto: 27.01, siklus: 8 },
                'B9222UDA': { netto: 26.69, siklus: 7 },
                'B9283XA': { netto: 29.17, siklus: 8 },
                'B9284GCB': { netto: 26.81, siklus: 7 },
                'B9732UDO': { netto: 28.92, siklus: 4 },
                'B9878UFV': { netto: 21.67, siklus: 8 },
                'B9917UFV': { netto: 23.08, siklus: 8 },
                'B9925UFV': { netto: 24.01, siklus: 8 },
                'B9948UFV': { netto: 21.35, siklus: 7 },
                'B9956UFV': { netto: 21.61, siklus: 7 },
                'BE8019ABU': { netto: 21.59, siklus: 7 },
                'BE8267ACU': { netto: 25.27, siklus: 8 },
                'BE8297ACU': { netto: 25.43, siklus: 9 }
            },
            day6: {
                'A9568U': { netto: 28.35, siklus: 4 },
                'B9051IB': { netto: 27.30, siklus: 6 },
                'B9222UDA': { netto: 27.88, siklus: 5 },
                'B9283XA': { netto: 30.17, siklus: 4 },
                'B9284GCB': { netto: 26.47, siklus: 6 },
                'B9732UDO': { netto: 27.11, siklus: 7 },
                'B9878UFV': { netto: 19.40, siklus: 8 },
                'B9917UFV': { netto: 23.07, siklus: 6 },
                'B9925UFV': { netto: 21.84, siklus: 5 },
                'B9939BDH': { netto: 27.56, siklus: 7 },
                'B9948UFV': { netto: 23.03, siklus: 6 },
                'B9956UFV': { netto: 23.06, siklus: 4 },
                'BA8782RO': { netto: 14.58, siklus: 1 },
                'BA8785RO': { netto: 22.49, siklus: 1 },
                'BE8019ABU': { netto: 22.51, siklus: 7 },
                'BE8267ACU': { netto: 25.04, siklus: 8 },
                'BE8297ACU': { netto: 24.86, siklus: 6 }
            }
        };

        // Operational data
        const operationalData = [
            { day: '20 Juli', produksi: 2037, target: 3360, ritase: 79, targetRitase: 112, produktivitas: 407, targetProduktivitas: 672, kapasitas: 26.15, trip: 3.60 },
            { day: '21 Juli', produksi: 2940, target: 3360, ritase: 111, targetRitase: 112, produktivitas: 588, targetProduktivitas: 672, kapasitas: 25.64, trip: 7.40 },
            { day: '22 Juli', produksi: 2846, target: 3360, ritase: 110, targetRitase: 112, produktivitas: 569, targetProduktivitas: 672, kapasitas: 25.75, trip: 7.30 },
            { day: '23 Juli', produksi: 2749, target: 3360, ritase: 113, targetRitase: 112, produktivitas: 550, targetProduktivitas: 672, kapasitas: 26.10, trip: 7.50 },
            { day: '24 Juli', produksi: 2503, target: 3360, ritase: 101, targetRitase: 112, produktivitas: 501, targetProduktivitas: 672, kapasitas: 25.92, trip: 7.20 },
            { day: '25 Juli', produksi: 1749, target: 3360, ritase: 91, targetRitase: 112, produktivitas: 350, targetProduktivitas: 672, kapasitas: 24.79, trip: 5.30 }
        ];

        // Drilling Operations Data
        const allDrillingData = [
            {plat_no: "A9568U", netto: 30.62, siklus: 31, gate_to_plug: "0:40:45", proses_plugging: "0:05:25", naik_pressure: "0:05:25", durasi_muat: "0:35:50", proses_unplugging: "0:05:04", unplugging_to_gateout: "0:12:19", port_operation: "1:56:27", silo_to_port: "2:09:34"},
    {plat_no: "B9051IB", netto: 27.36, siklus: 34, gate_to_plug: "0:46:18", proses_plugging: "0:11:11", naik_pressure: "0:06:51", durasi_muat: "0:36:25", proses_unplugging: "0:03:56", unplugging_to_gateout: "0:15:37", port_operation: "2:07:41", silo_to_port: "1:37:48"},
    {plat_no: "B9222UDA", netto: 26.92, siklus: 40, gate_to_plug: "0:54:08", proses_plugging: "0:12:05", naik_pressure: "0:04:35", durasi_muat: "1:02:56", proses_unplugging: "0:02:57", unplugging_to_gateout: "0:10:02", port_operation: "2:04:54", silo_to_port: "1:08:29"},
    {plat_no: "B9281GCB", netto: 27.35, siklus: 21, gate_to_plug: "0:35:03", proses_plugging: "0:04:17", naik_pressure: "0:03:26", durasi_muat: "0:46:09", proses_unplugging: "0:03:11", unplugging_to_gateout: "0:15:06", port_operation: "2:21:29", silo_to_port: "1:09:37"},
    {plat_no: "B9283XA", netto: 30.33, siklus: 36, gate_to_plug: "0:45:17", proses_plugging: "0:10:03", naik_pressure: "0:03:07", durasi_muat: "0:43:13", proses_unplugging: "0:05:57", unplugging_to_gateout: "0:10:35", port_operation: "2:07:40", silo_to_port: "1:19:48"},
    {plat_no: "B9284GCB", netto: 27.13, siklus: 39, gate_to_plug: "0:45:31", proses_plugging: "0:03:06", naik_pressure: "0:02:52", durasi_muat: "0:27:12", proses_unplugging: "0:02:57", unplugging_to_gateout: "0:21:40", port_operation: "1:55:35", silo_to_port: "1:22:32"},
    {plat_no: "B9732UDO", netto: 28.09, siklus: 38, gate_to_plug: "0:48:19", proses_plugging: "0:12:03", naik_pressure: "0:05:47", durasi_muat: "0:37:02", proses_unplugging: "0:03:00", unplugging_to_gateout: "0:17:11", port_operation: "2:05:51", silo_to_port: "1:22:13"},
    {plat_no: "B9878UFV", netto: 21.96, siklus: 44, gate_to_plug: "0:44:48", proses_plugging: "0:04:33", naik_pressure: "0:03:19", durasi_muat: "0:36:56", proses_unplugging: "0:03:03", unplugging_to_gateout: "0:09:52", port_operation: "1:46:25", silo_to_port: "1:07:16"},
    {plat_no: "B9917UFV", netto: 23.90, siklus: 41, gate_to_plug: "0:45:13", proses_plugging: "0:04:03", naik_pressure: "0:05:09", durasi_muat: "0:54:34", proses_unplugging: "0:06:26", unplugging_to_gateout: "0:07:51", port_operation: "2:03:18", silo_to_port: "1:06:32"},
    {plat_no: "B9925UFV", netto: 24.31, siklus: 41, gate_to_plug: "0:45:35", proses_plugging: "0:02:44", naik_pressure: "0:03:04", durasi_muat: "0:46:53", proses_unplugging: "0:03:01", unplugging_to_gateout: "0:11:12", port_operation: "2:02:53", silo_to_port: "1:07:40"},
    {plat_no: "B9939BDH", netto: 27.56, siklus: 7, gate_to_plug: "0:40:17", proses_plugging: "0:02:26", naik_pressure: "0:04:17", durasi_muat: "0:41:09", proses_unplugging: "0:03:43", unplugging_to_gateout: "0:11:00", port_operation: "1:42:51", silo_to_port: "0:59:34"},
    {plat_no: "B9948UFV", netto: 22.32, siklus: 41, gate_to_plug: "0:57:45", proses_plugging: "0:07:28", naik_pressure: "0:02:59", durasi_muat: "0:38:38", proses_unplugging: "0:02:40", unplugging_to_gateout: "0:08:48", port_operation: "1:59:47", silo_to_port: "1:07:12"},
    {plat_no: "B9956UFV", netto: 22.58, siklus: 38, gate_to_plug: "0:57:00", proses_plugging: "0:08:17", naik_pressure: "0:03:28", durasi_muat: "0:40:39", proses_unplugging: "0:03:52", unplugging_to_gateout: "0:08:08", port_operation: "2:17:57", silo_to_port: "1:04:51"},
    {plat_no: "BA8782RO", netto: 14.58, siklus: 1, gate_to_plug: "0:19:00", proses_plugging: "0:02:00", naik_pressure: "0:22:00", durasi_muat: "0:27:00", proses_unplugging: "0:13:00", unplugging_to_gateout: "0:18:00", port_operation: "1:41:00", silo_to_port: "0:00:00"},
    {plat_no: "BA8785RO", netto: 22.49, siklus: 1, gate_to_plug: "0:14:00", proses_plugging: "0:03:00", naik_pressure: "0:02:00", durasi_muat: "1:02:00", proses_unplugging: "0:06:00", unplugging_to_gateout: "1:00:00", port_operation: "2:27:00", silo_to_port: "0:00:00"},
    {plat_no: "BE8019ABU", netto: 22.53, siklus: 40, gate_to_plug: "0:50:23", proses_plugging: "0:13:06", naik_pressure: "0:03:26", durasi_muat: "0:42:26", proses_unplugging: "0:06:03", unplugging_to_gateout: "0:11:48", port_operation: "2:13:21", silo_to_port: "1:09:59"},
    {plat_no: "BE8267ACU", netto: 25.44, siklus: 44, gate_to_plug: "0:48:37", proses_plugging: "0:08:44", naik_pressure: "0:04:34", durasi_muat: "0:39:29", proses_unplugging: "0:03:40", unplugging_to_gateout: "0:08:00", port_operation: "2:02:05", silo_to_port: "1:01:16"},
    {plat_no: "BE8297ACU", netto: 25.86, siklus: 43, gate_to_plug: "0:48:13", proses_plugging: "0:08:21", naik_pressure: "0:03:04", durasi_muat: "0:43:17", proses_unplugging: "0:03:13", unplugging_to_gateout: "0:11:45", port_operation: "2:00:10", silo_to_port: "1:02:52"}
];

        const boosterDrillingData = [
    {plat_no: "A9568U", netto: 30.69, siklus: 16, gate_to_plug: "0:28:15", proses_plugging: "0:04:08", naik_pressure: "0:05:31", durasi_muat: "0:34:00", proses_unplugging: "0:06:11", unplugging_to_gateout: "0:10:15", port_operation: "1:52:08", silo_to_port: "1:57:04"},
    {plat_no: "B9051IB", netto: 27.36, siklus: 34, gate_to_plug: "0:46:18", proses_plugging: "0:11:11", naik_pressure: "0:06:51", durasi_muat: "0:36:25", proses_unplugging: "0:03:56", unplugging_to_gateout: "0:15:37", port_operation: "2:07:41", silo_to_port: "1:37:48"},
    {plat_no: "B9222UDA", netto: 26.84, siklus: 39, gate_to_plug: "0:54:45", proses_plugging: "0:12:20", naik_pressure: "0:04:38", durasi_muat: "1:03:11", proses_unplugging: "0:02:52", unplugging_to_gateout: "0:10:09", port_operation: "2:05:35", silo_to_port: "1:09:22"},
    {plat_no: "B9281GCB", netto: 27.49, siklus: 19, gate_to_plug: "0:37:13", proses_plugging: "0:04:22", naik_pressure: "0:03:47", durasi_muat: "0:46:44", proses_unplugging: "0:03:16", unplugging_to_gateout: "0:16:06", port_operation: "2:29:22", silo_to_port: "1:12:41"},
    {plat_no: "B9283XA", netto: 29.77, siklus: 17, gate_to_plug: "0:34:53", proses_plugging: "0:13:56", naik_pressure: "0:03:00", durasi_muat: "0:45:07", proses_unplugging: "0:05:18", unplugging_to_gateout: "0:11:46", port_operation: "2:07:21", silo_to_port: "1:27:11"},
    {plat_no: "B9284GCB", netto: 27.13, siklus: 39, gate_to_plug: "0:45:31", proses_plugging: "0:03:06", naik_pressure: "0:02:52", durasi_muat: "0:27:12", proses_unplugging: "0:02:57", unplugging_to_gateout: "0:21:40", port_operation: "1:55:35", silo_to_port: "1:22:32"},
    {plat_no: "B9732UDO", netto: 28.04, siklus: 37, gate_to_plug: "0:48:52", proses_plugging: "0:12:18", naik_pressure: "0:05:55", durasi_muat: "0:37:45", proses_unplugging: "0:03:05", unplugging_to_gateout: "0:15:41", port_operation: "2:06:16", silo_to_port: "1:23:03"},
    {plat_no: "B9878UFV", netto: 21.76, siklus: 32, gate_to_plug: "0:37:30", proses_plugging: "0:04:41", naik_pressure: "0:03:36", durasi_muat: "0:35:02", proses_unplugging: "0:03:08", unplugging_to_gateout: "0:08:24", port_operation: "1:37:53", silo_to_port: "1:05:30"},
    {plat_no: "B9917UFV", netto: 23.85, siklus: 27, gate_to_plug: "0:51:11", proses_plugging: "0:04:20", naik_pressure: "0:03:16", durasi_muat: "0:56:18", proses_unplugging: "0:08:40", unplugging_to_gateout: "0:07:44", port_operation: "2:11:49", silo_to_port: "1:04:47"},
    {plat_no: "B9925UFV", netto: 23.82, siklus: 25, gate_to_plug: "0:38:02", proses_plugging: "0:02:34", naik_pressure: "0:03:02", durasi_muat: "0:42:58", proses_unplugging: "0:02:53", unplugging_to_gateout: "0:11:41", port_operation: "1:58:24", silo_to_port: "1:04:19"},
    {plat_no: "B9939BDH", netto: 27.56, siklus: 7, gate_to_plug: "0:40:17", proses_plugging: "0:02:26", naik_pressure: "0:04:17", durasi_muat: "0:41:09", proses_unplugging: "0:03:43", unplugging_to_gateout: "0:11:00", port_operation: "1:42:51", silo_to_port: "0:59:34"},
    {plat_no: "B9948UFV", netto: 22.38, siklus: 28, gate_to_plug: "0:55:00", proses_plugging: "0:03:56", naik_pressure: "0:02:54", durasi_muat: "0:39:21", proses_unplugging: "0:02:56", unplugging_to_gateout: "0:08:39", port_operation: "1:55:17", silo_to_port: "1:10:17"},
    {plat_no: "B9956UFV", netto: 22.15, siklus: 26, gate_to_plug: "0:50:18", proses_plugging: "0:09:39", naik_pressure: "0:04:09", durasi_muat: "0:41:53", proses_unplugging: "0:03:53", unplugging_to_gateout: "0:09:48", port_operation: "2:14:51", silo_to_port: "0:57:53"},
    {plat_no: "BA8782RO", netto: 14.58, siklus: 1, gate_to_plug: "0:19:00", proses_plugging: "0:02:00", naik_pressure: "0:22:00", durasi_muat: "0:27:00", proses_unplugging: "0:13:00", unplugging_to_gateout: "0:18:00", port_operation: "1:41:00", silo_to_port: "0"},
    {plat_no: "BA8785RO", netto: 22.49, siklus: 1, gate_to_plug: "0:14:00", proses_plugging: "0:03:00", naik_pressure: "0:02:00", durasi_muat: "1:02:00", proses_unplugging: "0:06:00", unplugging_to_gateout: "1:00:00", port_operation: "2:27:00", silo_to_port: "0"},
    {plat_no: "BE8019ABU", netto: 22.24, siklus: 28, gate_to_plug: "0:41:06", proses_plugging: "0:08:39", naik_pressure: "0:03:36", durasi_muat: "0:43:02", proses_unplugging: "0:05:15", unplugging_to_gateout: "0:12:36", port_operation: "2:03:34", silo_to_port: "1:14:54"},
    {plat_no: "BE8267ACU", netto: 25.66, siklus: 35, gate_to_plug: "0:43:19", proses_plugging: "0:10:19", naik_pressure: "0:05:02", durasi_muat: "0:41:09", proses_unplugging: "0:04:09", unplugging_to_gateout: "0:08:34", port_operation: "2:01:27", silo_to_port: "1:05:02"},
    {plat_no: "BE8297ACU", netto: 25.91, siklus: 36, gate_to_plug: "0:44:52", proses_plugging: "0:09:23", naik_pressure: "0:02:38", durasi_muat: "0:44:30", proses_unplugging: "0:03:20", unplugging_to_gateout: "0:12:27", port_operation: "1:59:55", silo_to_port: "1:01:22"},
    
];

        const nonBoosterDrillingData = [
    {plat_no: "A9568U", netto: 30.54, siklus: 15, gate_to_plug: "0:54:04", proses_plugging: "0:06:48", naik_pressure: "0:05:20", durasi_muat: "0:37:48", proses_unplugging: "0:03:52", unplugging_to_gateout: "0:14:32", port_operation: "2:01:04", silo_to_port: "2:23:51"},
    {plat_no: "B9222UDA", netto: 30.00, siklus: 1, gate_to_plug: "0:30:00", proses_plugging: "0:02:00", naik_pressure: "0:02:00", durasi_muat: "0:53:00", proses_unplugging: "0:06:00", unplugging_to_gateout: "0:05:00", port_operation: "1:38:00", silo_to_port: "0:34:00"},
    {plat_no: "B9281GCB", netto: 25.98, siklus: 2, gate_to_plug: "0:14:30", proses_plugging: "0:03:30", naik_pressure: "0:00:00", durasi_muat: "0:40:30", proses_unplugging: "0:02:30", unplugging_to_gateout: "0:05:30", port_operation: "1:06:30", silo_to_port: "0:40:30"},
    {plat_no: "B9283XA", netto: 30.83, siklus: 19, gate_to_plug: "0:54:35", proses_plugging: "0:06:35", naik_pressure: "0:03:13", durasi_muat: "0:41:32", proses_unplugging: "0:06:32", unplugging_to_gateout: "0:09:32", port_operation: "2:07:57", silo_to_port: "1:13:13"},
    {plat_no: "B9732UDO", netto: 29.90, siklus: 1, gate_to_plug: "0:28:00", proses_plugging: "0:03:00", naik_pressure: "0:01:00", durasi_muat: "0:10:00", proses_unplugging: "0:00:00", unplugging_to_gateout: "1:13:00", port_operation: "1:50:00", silo_to_port: "0:51:00"},
    {plat_no: "B9878UFV", netto: 22.49, siklus: 12, gate_to_plug: "1:04:15", proses_plugging: "0:04:10", naik_pressure: "0:02:35", durasi_muat: "0:42:00", proses_unplugging: "0:02:50", unplugging_to_gateout: "0:13:45", port_operation: "2:09:10", silo_to_port: "1:12:00"},
    {plat_no: "B9917UFV", netto: 23.99, siklus: 14, gate_to_plug: "0:33:43", proses_plugging: "0:03:30", naik_pressure: "0:08:47", durasi_muat: "0:51:13", proses_unplugging: "0:02:09", unplugging_to_gateout: "0:08:04", port_operation: "1:46:51", silo_to_port: "1:09:56"},
    {plat_no: "B9925UFV", netto: 25.08, siklus: 16, gate_to_plug: "0:57:23", proses_plugging: "0:03:00", naik_pressure: "0:03:08", durasi_muat: "0:53:00", proses_unplugging: "0:03:15", unplugging_to_gateout: "0:10:26", port_operation: "2:09:53", silo_to_port: "1:12:53"},
    {plat_no: "B9948UFV", netto: 22.20, siklus: 13, gate_to_plug: "1:03:42", proses_plugging: "0:15:05", naik_pressure: "0:03:09", durasi_muat: "0:37:05", proses_unplugging: "0:02:05", unplugging_to_gateout: "0:09:09", port_operation: "2:09:28", silo_to_port: "1:00:32"},
    {plat_no: "B9956UFV", netto: 23.51, siklus: 12, gate_to_plug: "1:11:30", proses_plugging: "0:05:20", naik_pressure: "0:02:00", durasi_muat: "0:38:00", proses_unplugging: "0:03:50", unplugging_to_gateout: "0:04:30", port_operation: "2:24:40", silo_to_port: "1:19:55"},
    {plat_no: "BE8019ABU", netto: 23.21, siklus: 12, gate_to_plug: "1:12:00", proses_plugging: "0:23:30", naik_pressure: "0:03:00", durasi_muat: "0:41:00", proses_unplugging: "0:07:55", unplugging_to_gateout: "0:09:55", port_operation: "2:36:10", silo_to_port: "0:58:30"},
    {plat_no: "BE8267ACU", netto: 24.60, siklus: 9, gate_to_plug: "1:09:13", proses_plugging: "0:02:33", naik_pressure: "0:02:47", durasi_muat: "0:33:00", proses_unplugging: "0:01:47", unplugging_to_gateout: "0:05:47", port_operation: "2:04:33", silo_to_port: "0:46:40"},
    {plat_no: "BE8297ACU", netto: 25.64, siklus: 7, gate_to_plug: "1:05:26", proses_plugging: "0:03:00", naik_pressure: "0:05:17", durasi_muat: "0:37:00", proses_unplugging: "0:02:34", unplugging_to_gateout: "0:08:09", port_operation: "2:01:26", silo_to_port: "1:10:34"},
    ];

        let currentDrillingFilter = 'all';
        let currentDrillingData = allDrillingData;

        // Calculate truck averages
        function calculateTruckAverages() {
            const allTrucks = new Set();
            Object.values(truckData).forEach(day => {
                Object.keys(day).forEach(truck => allTrucks.add(truck));
            });

            const truckAverages = [];
            allTrucks.forEach(truckId => {
                let totalNetto = 0;
                let totalSiklus = 0;
                let dayCount = 0;
                
                Object.values(truckData).forEach(day => {
                    if (day[truckId]) {
                        totalNetto += day[truckId].netto;
                        totalSiklus += day[truckId].siklus;
                        dayCount++;
                    }
                });

                if (dayCount > 0) {
                    truckAverages.push({
                        id: truckId,
                        avgNetto: totalNetto / dayCount,
                        totalSiklus: totalSiklus,
                        avgSiklus: totalSiklus / dayCount,
                        dayCount: dayCount
                    });
                }
            });

            return truckAverages.sort((a, b) => b.avgNetto - a.avgNetto);
        }

        // Initialize charts
        function initCharts() {
            // Produksi Chart
            const produksiCtx = document.getElementById('produksiChart').getContext('2d');
            new Chart(produksiCtx, {
                type: 'bar',
                data: {
                    labels: operationalData.map(d => d.day),
                    datasets: [
                        {
                            label: 'Target',
                            data: operationalData.map(d => d.target),
                            backgroundColor: 'rgba(148, 163, 184, 0.6)',
                            borderColor: 'rgba(148, 163, 184, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Realisasi',
                            data: operationalData.map(d => d.produksi),
                            backgroundColor: 'rgba(16, 185, 129, 0.6)',
                            borderColor: 'rgba(16, 185, 129, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Produksi (TSD)'
                            }
                        }
                    }
                }
            });

            // Ritase Chart
            const ritaseCtx = document.getElementById('ritaseChart').getContext('2d');
            new Chart(ritaseCtx, {
                type: 'line',
                data: {
                    labels: operationalData.map(d => d.day),
                    datasets: [
                        {
                            label: 'Target',
                            data: operationalData.map(d => d.targetRitase),
                            borderColor: 'rgba(148, 163, 184, 1)',
                            backgroundColor: 'rgba(148, 163, 184, 0.1)',
                            borderDash: [5, 5],
                            fill: false
                        },
                        {
                            label: 'Realisasi',
                            data: operationalData.map(d => d.ritase),
                            borderColor: 'rgba(59, 130, 246, 1)',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: false,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Ritase'
                            }
                        }
                    }
                }
            });

            // Produktivitas Chart
            const produktivitasCtx = document.getElementById('produktivitasChart').getContext('2d');
            new Chart(produktivitasCtx, {
                type: 'line',
                data: {
                    labels: operationalData.map(d => d.day),
                    datasets: [
                        {
                            label: 'Target',
                            data: operationalData.map(d => d.targetProduktivitas),
                            borderColor: 'rgba(245, 158, 11, 1)',
                            backgroundColor: 'rgba(245, 158, 11, 0.1)',
                            borderDash: [5, 5],
                            fill: false
                        },
                        {
                            label: 'Realisasi',
                            data: operationalData.map(d => d.produktivitas),
                            borderColor: 'rgba(239, 68, 68, 1)',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            fill: false,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Produktivitas (MT)'
                            }
                        }
                    }
                }
            });

            // Kapasitas Chart
            const kapasitasCtx = document.getElementById('kapasitasChart').getContext('2d');
            new Chart(kapasitasCtx, {
                type: 'bar',
                data: {
                    labels: operationalData.map(d => d.day),
                    datasets: [
                        {
                            label: 'Kapasitas (Ton)',
                            data: operationalData.map(d => d.kapasitas),
                            backgroundColor: 'rgba(139, 69, 195, 0.6)',
                            borderColor: 'rgba(139, 69, 195, 1)',
                            borderWidth: 1,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Trip/Day',
                            data: operationalData.map(d => d.trip),
                            type: 'line',
                            borderColor: 'rgba(34, 197, 94, 1)',
                            backgroundColor: 'rgba(34, 197, 94, 0.1)',
                            yAxisID: 'y1',
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Kapasitas (Ton)'
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Trip/Day'
                            },
                            grid: {
                                drawOnChartArea: false,
                            },
                        }
                    }
                }
            });

            // Truck Performance Chart
            const truckAverages = calculateTruckAverages().slice(0, 10);
            const truckCtx = document.getElementById('truckChart').getContext('2d');
            new Chart(truckCtx, {
                type: 'bar',
                data: {
                    labels: truckAverages.map(t => t.id),
                    datasets: [
                        {
                            label: 'Average Netto (Ton)',
                            data: truckAverages.map(t => t.avgNetto),
                            backgroundColor: 'rgba(16, 185, 129, 0.6)',
                            borderColor: 'rgba(16, 185, 129, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Average Netto (Ton)'
                            }
                        }
                    }
                }
            });
        }

        // Generate truck table
        function generateTruckTable() {
            const truckAverages = calculateTruckAverages();
            const tbody = document.getElementById('truckTableBody');
            
            truckAverages.forEach(truck => {
                const row = tbody.insertRow();
                
                // Truck ID
                const cellId = row.insertCell();
                cellId.innerHTML = `<span class="truck-id">${truck.id}</span>`;
                
                // Daily data
                Object.keys(truckData).forEach(dayKey => {
                    const cell = row.insertCell();
                    const dayData = truckData[dayKey][truck.id];
                    if (dayData) {
                        const performanceClass = dayData.netto > 28 ? 'performance-good' : 
                                              dayData.netto > 25 ? 'performance-average' : 'performance-poor';
                        cell.innerHTML = `<div class="${performanceClass}">${dayData.netto.toFixed(1)}</div><small>${dayData.siklus} siklus</small>`;
                    } else {
                        cell.innerHTML = '<span style="color: #94a3b8;">-</span>';
                    }
                });
                
                // Average Netto
                const cellAvg = row.insertCell();
                const avgClass = truck.avgNetto > 28 ? 'performance-good' : 
                               truck.avgNetto > 25 ? 'performance-average' : 'performance-poor';
                cellAvg.innerHTML = `<strong class="${avgClass}">${truck.avgNetto.toFixed(2)}</strong>`;
                
                // Total Siklus
                const cellTotal = row.insertCell();
                cellTotal.innerHTML = `<strong>${truck.totalSiklus}</strong>`;
            });
        }
      
      
    // Update drilling stats - PERBAIKAN
function updateDrillingStats() {
    const totalPlatforms = currentDrillingData.length;
    const totalCycles = currentDrillingData.reduce((sum, row) => sum + row.siklus, 0);
    
    // Hitung weighted average netto berdasarkan siklus (sama seperti di tabel)
    const totalNetto = currentDrillingData.reduce((sum, row) => sum + (row.netto * row.siklus), 0);
    const avgNetto = totalCycles > 0 ? (totalNetto / totalCycles).toFixed(2) : 0;
    
    document.getElementById('drillingTotalPlatforms').textContent = totalPlatforms;
    document.getElementById('drillingTotalCycles').textContent = totalCycles;
    document.getElementById('drillingAvgNetto').textContent = avgNetto;
    document.getElementById('drillingCurrentFilter').textContent = 
        currentDrillingFilter === 'all' ? 'All' : 
        currentDrillingFilter === 'booster' ? 'Booster' : 'Non Booster';
  
    
}
      
     

// Filter drilling data
function filterDrillingData(type) {
    // Update active button
    document.querySelectorAll('.drilling-filter-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    
    // Find and activate the clicked button
    const buttons = document.querySelectorAll('.drilling-filter-btn');
    buttons.forEach(btn => {
        if ((type === 'all' && btn.textContent === 'All') ||
            (type === 'booster' && btn.textContent === 'Booster') ||
            (type === 'non-booster' && btn.textContent === 'Non Booster')) {
            btn.classList.add('active');
        }
    });

    // Set current filter and data
    currentDrillingFilter = type;
    if (type === 'all') {
        currentDrillingData = allDrillingData;
    } else if (type === 'booster') {
        currentDrillingData = boosterDrillingData;
    } else {
        currentDrillingData = nonBoosterDrillingData;
    }

    // Update table and stats
    generateDrillingTable();
    updateDrillingStats(); // Pastikan ini dipanggil
}
      
      // Fungsi untuk mengkonversi waktu HH:MM:SS ke detik
function timeToSeconds(timeStr) {
    if (!timeStr || timeStr === '0') return 0;
    const parts = timeStr.split(':');
    return (+parts[0]) * 3600 + (+parts[1]) * 60 + (+parts[2] || 0);
}

// Fungsi untuk mengkonversi detik ke format HH:MM:SS
function secondsToTime(seconds) {
    const hrs = Math.floor(seconds / 3600);
    const mins = Math.floor((seconds % 3600) / 60);
    const secs = Math.floor(seconds % 60);
    return `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
}

       // Generate drilling operations table
function generateDrillingTable() {
    const tbody = document.getElementById('drillingTableBody');
    tbody.innerHTML = '';

    // Add data rows
    currentDrillingData.forEach(row => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td class="plat-no">${row.plat_no}</td>
            <td>${row.netto.toFixed(2)}</td>
            <td>${row.siklus}</td>
            <td>${row.gate_to_plug}</td>
            <td>${row.proses_plugging}</td>
            <td>${row.naik_pressure}</td>
            <td>${row.durasi_muat}</td>
            <td>${row.proses_unplugging}</td>
            <td>${row.unplugging_to_gateout}</td>
            <td>${row.port_operation}</td>
            <td>${row.silo_to_port}</td>
        `;
        tbody.appendChild(tr);
    });

    // Calculate averages - PERBAIKAN
    if (currentDrillingData.length > 0) {
        // Hitung total siklus (ritase)
        const totalSiklus = currentDrillingData.reduce((sum, row) => sum + row.siklus, 0);
        
        // Hitung rata-rata netto berbobot (dikali siklus)
        const totalNetto = currentDrillingData.reduce((sum, row) => sum + (row.netto * row.siklus), 0);
        const avgNetto = totalNetto / totalSiklus;
        
        // Hitung rata-rata waktu berbobot
        const timeFields = [
            'gate_to_plug', 'proses_plugging', 'naik_pressure', 
            'durasi_muat', 'proses_unplugging', 'unplugging_to_gateout',
            'port_operation', 'silo_to_port'
        ];
        
        const avgTimes = {};
        timeFields.forEach(field => {
            let totalSeconds = 0;
            currentDrillingData.forEach(row => {
                const timeInSeconds = timeToSeconds(row[field]);
                totalSeconds += timeInSeconds * row.siklus; // Kalikan dengan jumlah siklus
            });
            avgTimes[field] = secondsToTime(Math.round(totalSeconds / totalSiklus));
        });

        // Add average row
        const avgRow = document.createElement('tr');
        avgRow.className = 'average-row';
        avgRow.innerHTML = `
            <td><strong>Average</strong></td>
            <td><strong>${avgNetto.toFixed(2)}</strong></td>
            <td><strong>${totalSiklus}</strong></td>
            <td><strong>${avgTimes.gate_to_plug}</strong></td>
            <td><strong>${avgTimes.proses_plugging}</strong></td>
            <td><strong>${avgTimes.naik_pressure}</strong></td>
            <td><strong>${avgTimes.durasi_muat}</strong></td>
            <td><strong>${avgTimes.proses_unplugging}</strong></td>
            <td><strong>${avgTimes.unplugging_to_gateout}</strong></td>
            <td><strong>${avgTimes.port_operation}</strong></td>
            <td><strong>${avgTimes.silo_to_port}</strong></td>
        `;
        tbody.appendChild(avgRow);
    }

        
        }

        // Tab functionality
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

      
      
        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
    initCharts();
    generateTruckTable();
    generateDrillingTable();
    updateDrillingStats(); // Tambahkan ini
});
    </script>
</body>
</html>

