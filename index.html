<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Analisis Muat Alumina Kijing</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
     <!--<link rel="stylesheet" href="styles.css">-->
    <style>
        
        .main-content {
            padding: 40px;
        }

        .add-data-btn {
            display: block;
            width: 250px;
            margin: 0 auto 40px;
            padding: 15px 30px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
            position: relative;
            overflow: hidden;
        }

        .add-data-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.6);
        }

        .add-data-btn:active {
            transform: translateY(-1px);
        }

        .add-data-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .add-data-btn:hover::before {
            left: 100%;
        }

        .forms-container {
            display: none;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-top: 30px;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.5s ease;
        }

        .forms-container.show {
            display: grid;
            opacity: 1;
            transform: translateY(0);
        }

        .form-section {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .form-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
        }

        .form-section h3 {
            color: #333;
            margin-bottom: 25px;
            font-size: 1.5em;
            text-align: center;
            position: relative;
        }

        .form-section h3::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            border-radius: 2px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
            font-size: 0.95em;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: white;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
            transform: translateY(-1px);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(79, 172, 254, 0.4);
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 107, 107, 0.1);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ff6b6b;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(255, 107, 107, 0.2);
            transform: scale(1.1);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .forms-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .form-section {
                padding: 20px;
            }
        }

        /* Animation untuk form muncul */
        .form-section {
            animation: slideIn 0.5s ease forwards;
        }

        .form-section:nth-child(1) {
            animation-delay: 0.1s;
        }

        .form-section:nth-child(2) {
            animation-delay: 0.2s;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        
        .average-row {
    background-color: #e0e7ff !important;
    font-weight: bold;
}

.average-row td {
    border-top: 2px solid #818cf8;
    border-bottom: 2px solid #818cf8;
}

.grand-total td {
    border-top: 3px solid #d35400;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f8fafc;
    color: #1e293b;
    line-height: 1.6;
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
}

.header {
    text-align: center;
    margin-bottom: 30px;
    padding: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.header h1 {
    font-size: 2.5em;
    margin-bottom: 10px;
}

.header p {
    font-size: 1.1em;
    opacity: 0.9;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.stat-card {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    border-left: 4px solid #3b82f6;
    transition: transform 0.2s;
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.stat-card.success {
    border-left-color: #10b981;
}

.stat-card.warning {
    border-left-color: #f59e0b;
}

.stat-card.danger {
    border-left-color: #ef4444;
}

.stat-title {
    font-size: 0.9em;
    color: #64748b;
    margin-bottom: 8px;
}

.stat-value {
    font-size: 2em;
    font-weight: bold;
    margin-bottom: 5px;
}

.stat-value.success {
    color: #10b981;
}

.stat-value.warning {
    color: #f59e0b;
}

.stat-value.danger {
    color: #ef4444;
}

.stat-subtitle {
    font-size: 0.8em;
    color: #64748b;
}

.progress-bar {
    width: 100%;
    height: 6px;
    background-color: #e2e8f0;
    border-radius: 3px;
    margin-top: 10px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.3s ease;
}

.progress-fill.success {
    background-color: #10b981;
}

.progress-fill.warning {
    background-color: #f59e0b;
}

.progress-fill.danger {
    background-color: #ef4444;
}

.chart-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.chart-container {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.chart-title {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 15px;
    color: #1e293b;
}

.chart-canvas {
    max-height: 400px;
}

.table-container {
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
    overflow: hidden;
}

.table-header {
    background: #f1f5f9;
    padding: 20px;
    border-bottom: 1px solid #e2e8f0;
}

.table-title {
    font-size: 1.2em;
    font-weight: bold;
    color: #1e293b;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid #e2e8f0;
    border-right: 1px solid #e2e8f0;
}

th {
    background-color: #f8fafc;
    font-weight: 600;
    color: #475569;
    font-size: 0.9em;
}

td {
    font-size: 0.9em;
}

tr:hover {
    background-color: #f8fafc;
}

.truck-id {
    font-weight: bold;
    color: #3b82f6;
}

.performance-good {
    color: #10b981;
    font-weight: bold;
}

.performance-average {
    color: #f59e0b;
    font-weight: bold;
}

.performance-poor {
    color: #ef4444;
    font-weight: bold;
}

.time-warning {
    background-color: #fef3c7;
    color: #92400e;
    font-weight: bold;
}

.time-danger {
    background-color: #fecaca;
    color: #991b1b;
    font-weight: bold;
}

.highlight-total {
    background-color: #fef3c7 !important;
    font-weight: bold;
}

.highlight-summary {
    background-color: #ddd6fe !important;
    font-weight: bold;
}

.tab-container {
    margin-bottom: 20px;
}

.tab-buttons {
    display: flex;
    background: white;
    border-radius: 8px;
    padding: 4px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom: 20px;
}

.tab-button {
    flex: 1;
    padding: 12px;
    border: none;
    background: transparent;
    cursor: pointer;
    border-radius: 6px;
    font-weight: 500;
    transition: all 0.2s;
}

.tab-button.active {
    background: #3b82f6;
    color: white;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

.plat-no {
    font-weight: 600;
    color: #2c3e50;
}

.grand-total {
    background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%) !important;
    color: white !important;
    font-weight: 700;
}

.grand-total td {
    border-top: 3px solid #d35400;
    font-size: 0.9rem;
}

/* Drilling Filter Styles */
.drilling-filter-section {
    padding: 15px;
    background: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid #e0e0e0;
    margin-bottom: 15px;
}

.drilling-filter-group {
    display: flex;
    align-items: center;
    gap: 15px;
    flex-wrap: wrap;
}

.drilling-filter-label {
    font-weight: 600;
    font-size: 1rem;
    color: #2c3e50;
}

.drilling-filter-buttons {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.drilling-filter-btn {
    padding: 10px 20px;
    border: 2px solid #3498db;
    background: white;
    color: #3498db;
    border-radius: 25px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
    font-size: 0.9rem;
}

.drilling-filter-btn:hover {
    background: #3498db;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
}

.drilling-filter-btn.active {
    background: #3498db;
    color: white;
    box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
}

.btn-tambah {
            background-color: #10b981;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-tambah:hover {
            background-color: #059669;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        
        .btn-tambah::before {
            content: "+";
            font-size: 18px;
            font-weight: bold;
        }

@media (max-width: 768px) {
    .container {
        padding: 10px;
    }
    
    .header h1 {
        font-size: 1.8em;
    }
    
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .chart-grid {
        grid-template-columns: 1fr;
    }

    .drilling-filter-group {
        flex-direction: column;
        align-items: flex-start;
    }
}
</style>
    
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Evaluasi Muat alumina Shipment Kedua di Pelabuhan Kijing</h1>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card success">
                <div class="stat-title">Total Truk Aktif</div>
                <div class="stat-value warning">18</div>
                <div class="stat-subtitle">18 Truk vs 20 Truk</div>
                <div class="progress-bar">
                    <div class="progress-fill warning" style="width: 80%"></div>
                </div>
            </div>
            
            <div class="stat-card warning">
                <div class="stat-title">Produksi Achievement</div>
                <div class="stat-value danger">51.47%</div>
                <div class="stat-subtitle">2471 TSD vs 4800 TSD target</div>
                <div class="progress-bar">
                    <div class="progress-fill danger" style="width: 51.47%"></div>
                </div>
            </div>
            
            <div class="stat-card success">
                <div class="stat-title">Total Cycle time</div>
                <div class="stat-value danger">+50.11%</div>
                <div class="stat-subtitle">192.14 vs 128 menit</div>
                <div class="progress-bar">
                    <div class="progress-fill danger" style="width: 50.11%"></div>
                </div>
            </div>
            
            <div class="stat-card success">
                <div class="stat-title">Ritase/Day Achievement</div>
                <div class="stat-value warning">64.06%</div>
                <div class="stat-subtitle">6.7 vs 10 Rit</div>
                <div class="progress-bar">
                    <div class="progress-fill warning" style="width: 64.06%"></div>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button active" onclick="showTab('operational')">📊 Analisis Operasional</button>
                <button class="tab-button" onclick="showTab('truck-performance')">🚛 Performa Truk</button>
                <button class="tab-button" onclick="showTab('daily-analysis')">📅 Analisis Harian</button>
                <button class="tab-button" onclick="showTab('add-data')"> 📋 Tambah Data</button>
            </div>

            <!-- Operational Tab -->
            <div id="operational" class="tab-content active">
                <div class="chart-grid">
                    <div class="chart-container">
                        <div class="chart-title">📈 Trend Produksi Harian</div>
                        <canvas id="produksiChart" class="chart-canvas"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">🔄 Ritase vs Target</div>
                        <canvas id="ritaseChart" class="chart-canvas"></canvas>
                    </div>
                </div>

                <div class="chart-grid">
                    <div class="chart-container">
                        <div class="chart-title">⚡ Produktivitas Trend</div>
                        <canvas id="produktivitasChart" class="chart-canvas"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">🚚 Kapasitas & Trip per Day</div>
                        <canvas id="kapasitasChart" class="chart-canvas"></canvas>
                    </div>
                </div>
            </div>

            <!-- Truck Performance Tab -->
            <div id="truck-performance" class="tab-content">
                <div class="chart-container">
                    <div class="chart-title">🏆 Top 10 Performa Truk (by Average Netto)</div>
                    <canvas id="truckChart" class="chart-canvas"></canvas>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">📋 Detail Performa Truk per Hari</div>
                    </div>
                    <div style="overflow-x: auto; max-height: 500px;">
                        <table id="truckTable">
                            <thead>
                                <tr>
                                    <th>Truk ID</th>
                                    <th>Hari 1 (20/7)</th>
                                    <th>Hari 2 (21/7)</th>
                                    <th>Hari 3 (22/7)</th>
                                    <th>Hari 4 (23/7)</th>
                                    <th>Hari 5 (24/7)</th>
                                    <th>Hari 6 (25/7)</th>
                                    <th>Avg Netto</th>
                                    <th>Total Siklus</th>
                                </tr>
                            </thead>
                            <tbody id="truckTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Daily Analysis Tab -->
            <div id="daily-analysis" class="tab-content">
                <!-- Detailed Operations Table -->
                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">⏱️ Breakdown Waktu Operasional per Parameter</div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table>
                            <tbody>
                                 <tr>
        <td rowspan="2" style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Parameter</td>
        <td rowspan="2" style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Deskripsi</td>
        <td rowspan="2" style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">PIC</td>
        <td rowspan="2" style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Plan</td>
        <td colspan="6" style="background: #1e40af; color: white; text-align: center; font-weight: bold;">Realisasi</td>
        <td rowspan="2" style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Sat</td>
    </tr>
    <tr>
        <td style="background: #3b82f6; color: white; font-weight: bold;">20 Juli</td>
        <td style="background: #3b82f6; color: white; font-weight: bold;">21 Juli</td>
        <td style="background: #3b82f6; color: white; font-weight: bold;">22 Juli</td>
        <td style="background: #3b82f6; color: white; font-weight: bold;">23 Juli</td>
        <td style="background: #3b82f6; color: white; font-weight: bold;">24 Juli</td>
        <td style="background: #3b82f6; color: white; font-weight: bold;">25 Juli</td>
    </tr>
    
    <!-- A - Cycle Port Operation -->
    <tr>
        <td rowspan="7" style="vertical-align: middle; font-weight: bold; background: #f1f5f9;">A - Cycle Port Operation</td>
        <td>Waktu Gate-in to Plugging</td>
        <td>SBL</td>
        <td>14.00</td>
        <td class="performance-poor">81.41 <span style="color: #ef4444;">(17%)</span></td>
        <td class="performance-poor">41.95 <span style="color: #ef4444;">(33%)</span></td>
        <td class="performance-poor">51.00 <span style="color: #ef4444;">(27%)</span></td>
        <td class="performance-poor">38.52 <span style="color: #ef4444;">(36%)</span></td>
        <td class="performance-poor">38.31 <span style="color: #ef4444;">(37%)</span></td>
        <td class="performance-poor">53.46 <span style="color: #ef4444;">(26%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Proses Plugging Flexible Hose Ke Konnector truck</td>
        <td>SPMT</td>
        <td>5.00</td>
        <td class="performance-good">4.76 <span style="color: #10b981;">(105%)</span></td>
        <td class="performance-average">7.19 <span style="color: #f59e0b;">(70%)</span></td>
        <td class="performance-average">7.13 <span style="color: #f59e0b;">(70%)</span></td>
        <td class="performance-poor">16.69 <span style="color: #ef4444;">(30%)</span></td>
        <td class="performance-good">4.60 <span style="color: #10b981;">(109%)</span></td>
        <td class="performance-good">2.86 <span style="color: #10b981;">(175%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Proses menaikan pressure</td>
        <td>SBL</td>
        <td>15.00</td>
        <td class="performance-good">3.44 <span style="color: #10b981;">(436%)</span></td>
        <td class="performance-good">4.12 <span style="color: #10b981;">(364%)</span></td>
        <td class="performance-good">6.67 <span style="color: #10b981;">(225%)</span></td>
        <td class="performance-good">2.67 <span style="color: #10b981;">(562%)</span></td>
        <td class="performance-good">3.18 <span style="color: #10b981;">(472%)</span></td>
        <td class="performance-good">3.97 <span style="color: #10b981;">(378%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Proses Pemompaan Alumina Ke kapal</td>
        <td>SBL/SPMT</td>
        <td>45.00</td>
        <td class="performance-average">45.50 <span style="color: #f59e0b;">(99%)</span></td>
        <td class="performance-good">40.12 <span style="color: #10b981;">(112%)</span></td>
        <td class="performance-good">43.20 <span style="color: #10b981;">(104%)</span></td>
        <td class="performance-good">38.65 <span style="color: #10b981;">(116%)</span></td>
        <td class="performance-good">43.94 <span style="color: #10b981;">(102%)</span></td>
        <td class="performance-average">45.30 <span style="color: #f59e0b;">(99%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Proses Unplugging Flexible Hose dari Truck</td>
        <td>SPMT</td>
        <td>5.00</td>
        <td class="performance-good">2.63 <span style="color: #10b981;">(190%)</span></td>
        <td class="performance-good">3.92 <span style="color: #10b981;">(128%)</span></td>
        <td class="performance-average">6.83 <span style="color: #f59e0b;">(73%)</span></td>
        <td class="performance-good">3.42 <span style="color: #10b981;">(146%)</span></td>
        <td class="performance-good">2.27 <span style="color: #10b981;">(220%)</span></td>
        <td class="performance-good">3.74 <span style="color: #10b981;">(134%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Waktu Unplugging to Gate-out</td>
        <td>SBL</td>
        <td>14.00</td>
        <td class="performance-good">12.33 <span style="color: #10b981;">(114%)</span></td>
        <td class="performance-good">13.74 <span style="color: #10b981;">(102%)</span></td>
        <td class="performance-good">10.94 <span style="color: #10b981;">(128%)</span></td>
        <td class="performance-good">12.89 <span style="color: #10b981;">(109%)</span></td>
        <td class="performance-good">9.76 <span style="color: #10b981;">(143%)</span></td>
        <td class="performance-good">11.45 <span style="color: #10b981;">(122%)</span></td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td class="highlight-total">Total waktu per truk</td>
        <td class="highlight-total"></td>
        <td class="highlight-total">98.00</td>
        <td class="time-danger">150.07 <span style="color: #ef4444;">(65%)</span></td>
        <td class="time-warning">111.03 <span style="color: #f59e0b;">(88%)</span></td>
        <td class="time-warning">125.76 <span style="color: #f59e0b;">(78%)</span></td>
        <td class="time-warning">112.85 <span style="color: #f59e0b;">(87%)</span></td>
        <td class="time-warning">102.06 <span style="color: #f59e0b;">(96%)</span></td>
        <td class="time-warning">120.78 <span style="color: #f59e0b;">(81%)</span></td>
        <td class="highlight-total">Menit</td>
    </tr>
    
    <!-- B - Cycle Silo to Port -->
    <tr>
        <td rowspan="4" style="vertical-align: middle; font-weight: bold; background: #f1f5f9;">B - Cycle Silo to Port</td>
        <td>Antri dan Muat Silo</td>
        <td>SBL/BAI</td>
        <td>5.00</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Perjalanan ke pelabuhan (11 km)</td>
        <td>SBL</td>
        <td>15.00</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td>Kembali ke pelabuhan (11 km)</td>
        <td>SBL</td>
        <td>10.00</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
        <td>Menit</td>
    </tr>
    
    <tr>
        <td class="highlight-total">Total waktu per truk</td>
        <td class="highlight-total"></td>
        <td class="highlight-total">30.00</td>
        <td class="time-warning">43.30 <span style="color: #f59e0b;">(69%)</span></td>
        <td class="time-danger">81.76 <span style="color: #ef4444;">(37%)</span></td>
        <td class="time-danger">74.76 <span style="color: #ef4444;">(40%)</span></td>
        <td class="time-danger">71.17 <span style="color: #ef4444;">(42%)</span></td>
        <td class="time-danger">79.09 <span style="color: #ef4444;">(38%)</span></td>
        <td class="time-danger">82.03 <span style="color: #ef4444;">(37%)</span></td>
        <td class="highlight-total">Menit</td>
    </tr>
    
    <!-- Summary Rows -->
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Turn Round Trip</td>
        <td class="highlight-total">Total Waktu A + B</td>
        <td class="highlight-total"></td>
        <td class="highlight-total">128.00</td>
        <td class="time-danger">193.38 <span style="color: #ef4444;">(66%)</span></td>
        <td class="time-danger">192.78 <span style="color: #ef4444;">(66%)</span></td>
        <td class="time-danger">200.53 <span style="color: #ef4444;">(64%)</span></td>
        <td class="time-danger">184.02 <span style="color: #ef4444;">(70%)</span></td>
        <td class="time-danger">181.15 <span style="color: #ef4444;">(71%)</span></td>
        <td class="time-danger">202.81 <span style="color: #ef4444;">(63%)</span></td>
        <td class="highlight-total">Menit</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Trip per day</td>
        <td>siklus per hari per truk</td>
        <td></td>
        <td>10.00</td>
        <td class="performance-poor">3.60 <span style="color: #ef4444;">(36%)</span></td>
        <td class="performance-good">7.40 <span style="color: #10b981;">(74%)</span></td>
        <td class="performance-good">7.33 <span style="color: #10b981;">(73%)</span></td>
        <td class="performance-good">7.53 <span style="color: #10b981;">(75%)</span></td>
        <td class="performance-good">7.21 <span style="color: #10b981;">(72%)</span></td>
        <td class="performance-average">5.35 <span style="color: #f59e0b;">(54%)</span></td>
        <td>Trip</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Kebutuhan truk/hari</td>
        <td>3 shift</td>
        <td>BAI</td>
        <td>16.00</td>
        <td class="performance-average">15.00 <span style="color: #f59e0b;">(94%)</span></td>
        <td class="performance-average">15.00 <span style="color: #f59e0b;">(94%)</span></td>
        <td class="performance-average">15.00 <span style="color: #f59e0b;">(94%)</span></td>
        <td class="performance-average">15.00 <span style="color: #f59e0b;">(94%)</span></td>
        <td class="performance-poor">14.00 <span style="color: #ef4444;">(88%)</span></td>
        <td class="performance-poor">17.00 <span style="color: #ef4444;">(106%)</span></td>
        <td>Truk</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Ritase</td>
        <td>16 x trip per day</td>
        <td></td>
        <td>160.00</td>
        <td class="performance-poor">54.00 <span style="color: #ef4444;">(34%)</span></td>
        <td class="performance-good">111.00 <span style="color: #10b981;">(69%)</span></td>
        <td class="performance-good">110.00 <span style="color: #10b981;">(69%)</span></td>
        <td class="performance-good">113.00 <span style="color: #10b981;">(71%)</span></td>
        <td class="performance-good">101.00 <span style="color: #10b981;">(63%)</span></td>
        <td class="performance-average">91.00 <span style="color: #f59e0b;">(57%)</span></td>
        <td>Rit</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Kapasitas Trucking</td>
        <td>Kapasitas tonase per truk</td>
        <td>BAI</td>
        <td>30.00</td>
        <td class="performance-average">26.15 <span style="color: #f59e0b;">(87%)</span></td>
        <td class="performance-average">25.65 <span style="color: #f59e0b;">(86%)</span></td>
        <td class="performance-average">25.75 <span style="color: #f59e0b;">(86%)</span></td>
        <td class="performance-average">26.11 <span style="color: #f59e0b;">(87%)</span></td>
        <td class="performance-average">25.02 <span style="color: #f59e0b;">(83%)</span></td>
        <td class="performance-average">24.79 <span style="color: #f59e0b;">(83%)</span></td>
        <td>MT</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Kinerja per jam</td>
        <td>produksi harian / waktu efektif</td>
        <td></td>
        <td>300.00</td>
        <td class="performance-poor">125.43 <span style="color: #ef4444;">(42%)</span></td>
        <td class="performance-average">172.94 <span style="color: #f59e0b;">(58%)</span></td>
        <td class="performance-average">175.46 <span style="color: #f59e0b;">(58%)</span></td>
        <td class="performance-average">167.62 <span style="color: #f59e0b;">(56%)</span></td>
        <td class="performance-average">129.02 <span style="color: #f59e0b;">(43%)</span></td>
        <td class="performance-average">415.44 <span style="color: #f59e0b;">(138%)</span></td>
        <td>TGH</td>
    </tr>
    
    <tr>
        <td style="font-weight: bold; background: #f1f5f9;">Effective Time</td>
        <td>Effektive time 21 jam / Hari</td>
        <td></td>
        <td>20.00</td>
        <td class="performance-average">16.24 <span style="color: #f59e0b;">(81%)</span></td>
        <td class="performance-average">17.50 <span style="color: #f59e0b;">(88%)</span></td>
        <td class="performance-average">16.22 <span style="color: #f59e0b;">(81%)</span></td>
        <td class="performance-average">16.40 <span style="color: #f59e0b;">(82%)</span></td>
        <td class="performance-average">19.40 <span style="color: #f59e0b;">(97%)</span></td>
        <td class="performance-poor">4.21 <span style="color: #ef4444;">(21%)</span></td>
        <td>Jam</td>
    </tr>
    
    <tr>
        <td class="highlight-summary" style="font-weight: bold; background: #ddd6fe;">Produktivitas Perpalka/ Day</td>
        <td class="highlight-summary">Per Palka dilayani 2 hiblow truck</td>
        <td class="highlight-summary"></td>
        <td class="highlight-summary">960.00</td>
        <td class="highlight-summary performance-poor">407.40 <span style="color: #ef4444;">(42%)</span></td>
        <td class="highlight-summary performance-average">588.00 <span style="color: #f59e0b;">(61%)</span></td>
        <td class="highlight-summary performance-average">569.20 <span style="color: #f59e0b;">(59%)</span></td>
        <td class="highlight-summary performance-average">549.80 <span style="color: #f59e0b;">(57%)</span></td>
        <td class="highlight-summary performance-average">500.60 <span style="color: #f59e0b;">(52%)</span></td>
        <td class="highlight-summary performance-poor">349.80 <span style="color: #ef4444;">(36%)</span></td>
        <td class="highlight-summary">MT</td>
    </tr>
    
    <tr>
        <td class="highlight-summary" style="font-weight: bold; background: #ddd6fe;">Produksi per day</td>
        <td class="highlight-summary">5 Palka</td>
        <td class="highlight-summary"></td>
        <td class="highlight-summary">4800.00</td>
        <td class="highlight-summary performance-poor">2037.00 <span style="color: #ef4444;">(42%)</span></td>
        <td class="highlight-summary performance-good">2940.00 <span style="color: #10b981;">(61%)</span></td>
        <td class="highlight-summary performance-good">2846.00 <span style="color: #10b981;">(59%)</span></td>
        <td class="highlight-summary performance-good">2749.00 <span style="color: #10b981;">(57%)</span></td>
        <td class="highlight-summary performance-average">2503.00 <span style="color: #f59e0b;">(52%)</span></td>
        <td class="highlight-summary performance-poor">1749.00 <span style="color: #ef4444;">(36%)</span></td>
        <td class="highlight-summary">TSD</td>
    </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Drilling Operations Table -->
                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">🛢️ Booster Operations Data</div>
                    </div>
                    <div class="drilling-filter-section">
                        <div class="drilling-filter-group">
                            <span class="drilling-filter-label">Booster Pump:</span>
                            <div class="drilling-filter-buttons">
                                <button class="drilling-filter-btn active" onclick="filterDrillingData('all')">All</button>
                                <button class="drilling-filter-btn" onclick="filterDrillingData('booster')">Booster</button>
                                <button class="drilling-filter-btn" onclick="filterDrillingData('non-booster')">Non Booster</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stats-grid" style="margin-top: 15px; margin-bottom: 20px;">
                        <div class="stat-card">
                            <div class="stat-title">Total Trucks</div>
                            <div class="stat-value" id="drillingTotalPlatforms">0</div>
                            <div class="stat-subtitle">Active trucks</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-title">Total Cycles</div>
                            <div class="stat-value" id="drillingTotalCycles">0</div>
                            <div class="stat-subtitle">Completed cycles</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-title">Avg Netto</div>
                            <div class="stat-value" id="drillingAvgNetto">0</div>
                            <div class="stat-subtitle">Tons per cycle</div>
                        </div>
                    </div>
                    
                    <div style="overflow-x: auto;">
                        <table class="data-table" id="drillingTable">
                            <thead>
                                <tr>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Plat</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Netto</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Rit</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Gate-in to Plug</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Proses Plugging</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Naik Pressure</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Durasi Muat</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Proses Unplugging</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Unplugging to Gateout</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Port Operation</th>
                                    <th style="vertical-align: middle; font-weight: bold; background: #334155; color: white;">Silo to Port</th>
                                </tr>
                            </thead>
                            <tbody id="drillingTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="add-data" class="tab-content">
        <div class="forms-container" id="formsContainer">
                <div class="form-section">
                    <button class="close-btn" onclick="hideForms()">&times;</button>
                    <h3>🚛 Loading Process (Silo)</h3>
                    <form id="loadingForm1">
                        <div class="form-group">
                            <label for="id">ID:</label>
                            <input type="text" id="id" name="id" required>
                        </div>
                        <div class="form-group">
                            <label for="jo">JO:</label>
                            <input type="text" id="jo" name="jo" required>
                        </div>
                        <div class="form-group">
                            <label for="nopol">Nopol:</label>
                            <input type="text" id="nopol" name="nopol" required>
                        </div>
                        <div class="form-group">
                            <label for="driver">Driver:</label>
                            <input type="text" id="driver" name="driver" required>
                        </div>
                        <div class="form-group">
                            <label for="truck_arrival">Truck Arrival:</label>
                            <input type="time" id="truck_arrival" name="truck_arrival">
                        </div>
                        <div class="form-group">
                            <label for="scales_wo_alumina">Scales w/o Alumina:</label>
                            <input type="time" id="scales_wo_alumina" name="scales_wo_alumina">
                        </div>
                        <div class="form-group">
                            <label for="parking">Parking:</label>
                            <input type="time" id="parking" name="parking">
                        </div>
                        <div class="form-group">
                            <label for="loading_prep_1">Loading Prep 1:</label>
                            <input type="time" id="loading_prep_1" name="loading_prep_1">
                        </div>
                        <div class="form-group">
                            <label for="first_load_1st">First Load 1st:</label>
                            <input type="time" id="first_load_1st" name="first_load_1st">
                        </div>
                        <div class="form-group">
                            <label for="trimming_1">Trimming 1:</label>
                            <input type="time" id="trimming_1" name="trimming_1">
                        </div>
                        <div class="form-group">
                            <label for="second_load_1st">Second Load 1st:</label>
                            <input type="time" id="second_load_1st" name="second_load_1st">
                        </div>
                        <div class="form-group">
                            <label for="loading_prep_2">Loading Prep 2:</label>
                            <input type="time" id="loading_prep_2" name="loading_prep_2">
                        </div>
                        <div class="form-group">
                            <label for="first_load_2nd">First Load 2nd:</label>
                            <input type="time" id="first_load_2nd" name="first_load_2nd">
                        </div>
                        <div class="form-group">
                            <label for="trimming_2">Trimming 2:</label>
                            <input type="time" id="trimming_2" name="trimming_2">
                        </div>
                        <div class="form-group">
                            <label for="second_load_2nd">Second Load 2nd:</label>
                            <input type="time" id="second_load_2nd" name="second_load_2nd">
                        </div>
                        <div class="form-group">
                            <label for="cleaning">Cleaning:</label>
                            <input type="time" id="cleaning" name="cleaning">
                        </div>
                        <button type="submit" class="submit-btn">💾 Simpan Loading Process 1</button>
                    </form>
                </div>
                   </div>
    </div>
                <div class="form-section">
                    <div class="form-section" id="portFormSection" style="display: none;">
                    <button class="close-btn" onclick="hideForms()">&times;</button>
                    <h3>⚓ Loading Process (Port)</h3>
                    <form id="loadingForm2">
                        <div class="form-group">
                            <label for="truck_arrival2">Truck Arrival 2:</label>
                            <input type="time" id="truck_arrival2" name="truck_arrival2">
                        </div>
                        <div class="form-group">
                            <label for="scales_w_alumina">Scales w/ Alumina:</label>
                            <input type="time" id="scales_w_alumina" name="scales_w_alumina">
                        </div>
                        <div class="form-group">
                            <label for="to_pier">To Pier:</label>
                            <input type="time" id="to_pier" name="to_pier">
                        </div>
                        <div class="form-group">
                            <label for="parking2">Parking:</label>
                            <input type="time" id="parking2" name="parking2">
                        </div>
                        <div class="form-group">
                            <label for="air_compressor">Air Compressor:</label>
                            <input type="time" id="air_compressor" name="air_compressor">
                        </div>
                        <div class="form-group">
                            <label for="loading_vessel">Loading Vessel:</label>
                            <input type="time" id="loading_vessel" name="loading_vessel">
                        </div>
                        <div class="form-group">
                            <label for="plug_out">Plug-out:</label>
                            <input type="time" id="plug_out" name="plug_out">
                        </div>
                        <div class="form-group">
                            <label for="to_scales">To Scales:</label>
                            <input type="time" id="to_scales" name="to_scales">
                        </div>
                        <div class="form-group">
                            <label for="scales_wo">Scales w/o:</label>
                            <input type="time" id="scales_wo" name="scales_wo">
                        </div>
                        <div class="form-group">
                            <label for="departure">Departure:</label>
                            <input type="time" id="departure" name="departure">
                        </div>
                        <button type="submit" class="submit-btn">🚢 Simpan Loading Process 2</button>
                    </form>
                </div>
        </div>
<div class="table-container" style="margin-top: 30px;">
                    <div class="table-header">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div class="table-title">📊 Data Harian</div>
                            <button class="btn-tambah" onclick="toggleForms()">
                                Tambah Data Baru
                            </button>
            </div>
        </div>
                            
                    <div style="overflow-x: auto;">
                        <table id="dataTable">
                            <thead>
                                <tr>
                                    <th rowspan="2" style="background: #334155; color: white; vertical-align: middle;">ID</th>
                                    <th rowspan="2" style="background: #334155; color: white; vertical-align: middle;">JO</th>
                                    <th rowspan="2" style="background: #334155; color: white; vertical-align: middle;">Nopol</th>
                                    <th rowspan="2" style="background: #334155; color: white; vertical-align: middle;">Driver</th>
                                    <th colspan="12" style="background: #1e40af; color: white; text-align: center;">Siklus Loading di Silo</th>
                                    <th colspan="10" style="background: #059669; color: white; text-align: center;">Siklus di Pelabuhan</th>
                                    <th rowspan="2" style="background: #334155; color: white; vertical-align: middle;">Aksi</th>
                                </tr>
                                <tr>
                                    <!-- Silo Headers -->
                                    <th style="background: #3b82f6; color: white;">Truck Arrival</th>
                                    <th style="background: #3b82f6; color: white;">Scales w/o Alumina</th>
                                    <th style="background: #3b82f6; color: white;">Parking</th>
                                    <th style="background: #3b82f6; color: white;">Loading Prep 1</th>
                                    <th style="background: #3b82f6; color: white;">First Load 1st</th>
                                    <th style="background: #3b82f6; color: white;">Trimming 1</th>
                                    <th style="background: #3b82f6; color: white;">Second Load 1st</th>
                                    <th style="background: #3b82f6; color: white;">Loading Prep 2</th>
                                    <th style="background: #3b82f6; color: white;">First Load 2nd</th>
                                    <th style="background: #3b82f6; color: white;">Trimming 2</th>
                                    <th style="background: #3b82f6; color: white;">Second Load 2nd</th>
                                    <th style="background: #3b82f6; color: white;">Cleaning</th>
                                    <!-- Port Headers -->
                                    <th style="background: #10b981; color: white;">Truck Arrival</th>
                                    <th style="background: #10b981; color: white;">Scales w/ Alumina</th>
                                    <th style="background: #10b981; color: white;">To Pier</th>
                                    <th style="background: #10b981; color: white;">Parking</th>
                                    <th style="background: #10b981; color: white;">Air Compressor</th>
                                    <th style="background: #10b981; color: white;">Loading Vessel</th>
                                    <th style="background: #10b981; color: white;">Plug-out</th>
                                    <th style="background: #10b981; color: white;">To Scales</th>
                                    <th style="background: #10b981; color: white;">Scales w/o</th>
                                    <th style="background: #10b981; color: white;">Departure</th>
                                </tr>
                            </thead>
                            <tbody id="dataTableBody">
                                <tr>
                                    <td colspan="27" style="text-align: center; padding: 40px; color: #64748b;">
                                        📋 Belum ada data. Klik "Tambah Data Baru" untuk menambahkan data pertama.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
        </div>
    </div>

    
</div>
    <!-- <script src="scripts.js" defer></script>-->

<script>
    // Data trucking per hari
const truckData = {
    day1: {
        'A9568U': { netto: 29.67, siklus: 3 },
        'B9051IB': { netto: 26.19, siklus: 1 },
        'B9222UDA': { netto: 27.02, siklus: 4 },
        'B9281GCB': { netto: 28.39, siklus: 3 },
        'B9283XA': { netto: 32.98, siklus: 3 },
        'B9284GCB': { netto: 28.4, siklus: 4 },
        'B9732UDO': { netto: 28.64, siklus: 4 },
        'B9878UFV': { netto: 21.29, siklus: 3 },
        'B9917UFV': { netto: 25.18, siklus: 5 },
        'B9925UFV': { netto: 26.21, siklus: 4 },
        'B9948UFV': { netto: 22.17, siklus: 4 },
        'B9956UFV': { netto: 24.50, siklus: 4 },
        'BE8019ABU': { netto: 22.97, siklus: 4 },
        'BE8267ACU': { netto: 24.22, siklus: 4 },
        'BE8297ACU': { netto: 26.67, siklus: 4 }
    },
    day2: {
        'A9568U': { netto: 30.92, siklus: 6 },
        'B9051IB': { netto: 27.04, siklus: 5 },
        'B9222UDA': { netto: 25.57, siklus: 7 },
        'B9281GCB': { netto: 26.60, siklus: 8 },
        'B9283XA': { netto: 30.51, siklus: 8 },
        'B9284GCB': { netto: 27.30, siklus: 6 },
        'B9732UDO': { netto: 28.18, siklus: 8 },
        'B9878UFV': { netto: 23.75, siklus: 8 },
        'B9917UFV': { netto: 24.16, siklus: 7 },
        'B9925UFV': { netto: 24.41, siklus: 8 },
        'B9948UFV': { netto: 22.12, siklus: 8 },
        'B9956UFV': { netto: 22.90, siklus: 8 },
        'BE8019ABU': { netto: 22.66, siklus: 8 },
        'BE8267ACU': { netto: 24.92, siklus: 8 },
        'BE8297ACU': { netto: 25.76, siklus: 8 }
    },
    day3: {
        'A9568U': { netto: 31.36, siklus: 6 },
        'B9051IB': { netto: 27.31, siklus: 7 },
        'B9222UDA': { netto: 26.86, siklus: 9 },
        'B9281GCB': { netto: 26.85, siklus: 7 },
        'B9283XA': { netto: 30.52, siklus: 7 },
        'B9284GCB': { netto: 26.82, siklus: 7 },
        'B9732UDO': { netto: 28.07, siklus: 7 },
        'B9878UFV': { netto: 21.73, siklus: 8 },
        'B9917UFV': { netto: 24.23, siklus: 8 },
        'B9925UFV': { netto: 24.62, siklus: 7 },
        'B9948UFV': { netto: 23.25, siklus: 7 },
        'B9956UFV': { netto: 21.39, siklus: 7 },
        'BE8019ABU': { netto: 22.22, siklus: 7 },
        'BE8267ACU': { netto: 26.03, siklus: 8 },
        'BE8297ACU': { netto: 26.19, siklus: 8 }
    },
    day4: {
        'A9568U': { netto: 31.36, siklus: 6 },
        'B9051IB': { netto: 27.31, siklus: 7 },
        'B9222UDA': { netto: 26.86, siklus: 9 },
        'B9281GCB': { netto: 26.85, siklus: 7 },
        'B9283XA': { netto: 30.52, siklus: 7 },
        'B9284GCB': { netto: 26.82, siklus: 7 },
        'B9732UDO': { netto: 28.07, siklus: 7 },
        'B9878UFV': { netto: 21.73, siklus: 8 },
        'B9917UFV': { netto: 24.23, siklus: 8 },
        'B9925UFV': { netto: 24.62, siklus: 7 },
        'B9948UFV': { netto: 23.25, siklus: 7 },
        'B9956UFV': { netto: 21.39, siklus: 7 },
        'BE8019ABU': { netto: 22.22, siklus: 7 },
        'BE8267ACU': { netto: 26.03, siklus: 8 },
        'BE8297ACU': { netto: 26.19, siklus: 8 }
    },
    day5: {
        'A9568U': { netto: 31.09, siklus: 5 },
        'B9051IB': { netto: 27.01, siklus: 8 },
        'B9222UDA': { netto: 26.69, siklus: 7 },
        'B9283XA': { netto: 29.17, siklus: 8 },
        'B9284GCB': { netto: 26.81, siklus: 7 },
        'B9732UDO': { netto: 28.92, siklus: 4 },
        'B9878UFV': { netto: 21.67, siklus: 8 },
        'B9917UFV': { netto: 23.08, siklus: 8 },
        'B9925UFV': { netto: 24.01, siklus: 8 },
        'B9948UFV': { netto: 21.35, siklus: 7 },
        'B9956UFV': { netto: 21.61, siklus: 7 },
        'BE8019ABU': { netto: 21.59, siklus: 7 },
        'BE8267ACU': { netto: 25.27, siklus: 8 },
        'BE8297ACU': { netto: 25.43, siklus: 9 }
    },
    day6: {
        'A9568U': { netto: 28.35, siklus: 4 },
        'B9051IB': { netto: 27.30, siklus: 6 },
        'B9222UDA': { netto: 27.88, siklus: 5 },
        'B9283XA': { netto: 30.17, siklus: 4 },
        'B9284GCB': { netto: 26.47, siklus: 6 },
        'B9732UDO': { netto: 27.11, siklus: 7 },
        'B9878UFV': { netto: 19.40, siklus: 8 },
        'B9917UFV': { netto: 23.07, siklus: 6 },
        'B9925UFV': { netto: 21.84, siklus: 5 },
        'B9939BDH': { netto: 27.56, siklus: 7 },
        'B9948UFV': { netto: 23.03, siklus: 6 },
        'B9956UFV': { netto: 23.06, siklus: 4 },
        'BA8782RO': { netto: 14.58, siklus: 1 },
        'BA8785RO': { netto: 22.49, siklus: 1 },
        'BE8019ABU': { netto: 22.51, siklus: 7 },
        'BE8267ACU': { netto: 25.04, siklus: 8 },
        'BE8297ACU': { netto: 24.86, siklus: 6 }
    }
};

// Data operasional
const operationalData = [
    { day: '20 Juli', produksi: 2037, target: 3360, ritase: 79, targetRitase: 112, produktivitas: 407, targetProduktivitas: 672, kapasitas: 26.15, trip: 3.60 },
    { day: '21 Juli', produksi: 2940, target: 3360, ritase: 111, targetRitase: 112, produktivitas: 588, targetProduktivitas: 672, kapasitas: 25.64, trip: 7.40 },
    { day: '22 Juli', produksi: 2846, target: 3360, ritase: 110, targetRitase: 112, produktivitas: 569, targetProduktivitas: 672, kapasitas: 25.75, trip: 7.30 },
    { day: '23 Juli', produksi: 2749, target: 3360, ritase: 113, targetRitase: 112, produktivitas: 550, targetProduktivitas: 672, kapasitas: 26.10, trip: 7.50 },
    { day: '24 Juli', produksi: 2503, target: 3360, ritase: 101, targetRitase: 112, produktivitas: 501, targetProduktivitas: 672, kapasitas: 25.92, trip: 7.20 },
    { day: '25 Juli', produksi: 1749, target: 3360, ritase: 91, targetRitase: 112, produktivitas: 350, targetProduktivitas: 672, kapasitas: 24.79, trip: 5.30 }
];

// Data drilling operations
const allDrillingData = [
    {plat_no: "A9568U", netto: 30.62, siklus: 31, gate_to_plug: "0:40:45", proses_plugging: "0:05:25", naik_pressure: "0:05:25", durasi_muat: "0:35:50", proses_unplugging: "0:05:04", unplugging_to_gateout: "0:12:19", port_operation: "1:56:27", silo_to_port: "2:09:34"},
    // ... [data drilling lainnya] ...
];

// Data booster dan non-booster
const boosterDrillingData = [
    // ... [data booster] ...
];

const nonBoosterDrillingData = [
    // ... [data non-booster] ...
];

// Variabel global
let currentDrillingFilter = 'all';
let currentDrillingData = allDrillingData;
let formsVisible = false;

// Fungsi untuk menghitung rata-rata truk
function calculateTruckAverages() {
    const allTrucks = new Set();
    Object.values(truckData).forEach(day => {
        Object.keys(day).forEach(truck => allTrucks.add(truck));
    });

    const truckAverages = [];
    allTrucks.forEach(truckId => {
        let totalNetto = 0;
        let totalSiklus = 0;
        let dayCount = 0;
        
        Object.values(truckData).forEach(day => {
            if (day[truckId]) {
                totalNetto += day[truckId].netto;
                totalSiklus += day[truckId].siklus;
                dayCount++;
            }
        });

        if (dayCount > 0) {
            truckAverages.push({
                id: truckId,
                avgNetto: totalNetto / dayCount,
                totalSiklus: totalSiklus,
                avgSiklus: totalSiklus / dayCount,
                dayCount: dayCount
            });
        }
    });

    return truckAverages.sort((a, b) => b.avgNetto - a.avgNetto);
}

// Fungsi untuk inisialisasi chart
function initCharts() {
    // Produksi Chart
    const produksiCtx = document.getElementById('produksiChart').getContext('2d');
    new Chart(produksiCtx, {
        type: 'bar',
        data: {
            labels: operationalData.map(d => d.day),
            datasets: [
                {
                    label: 'Target',
                    data: operationalData.map(d => d.target),
                    backgroundColor: 'rgba(148, 163, 184, 0.6)',
                    borderColor: 'rgba(148, 163, 184, 1)',
                    borderWidth: 1
                },
                {
                    label: 'Realisasi',
                    data: operationalData.map(d => d.produksi),
                    backgroundColor: 'rgba(16, 185, 129, 0.6)',
                    borderColor: 'rgba(16, 185, 129, 1)',
                    borderWidth: 1
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Produksi (TSD)'
                    }
                }
            }
        }
    });

    // ... [chart lainnya] ...
}

// Fungsi untuk generate tabel truk
function generateTruckTable() {
    const truckAverages = calculateTruckAverages();
    const tbody = document.getElementById('truckTableBody');
    tbody.innerHTML = '';
    
    truckAverages.forEach(truck => {
        const row = tbody.insertRow();
        
        // Truck ID
        const cellId = row.insertCell();
        cellId.innerHTML = `<span class="truck-id">${truck.id}</span>`;
        
        // Daily data
        Object.keys(truckData).forEach(dayKey => {
            const cell = row.insertCell();
            const dayData = truckData[dayKey][truck.id];
            if (dayData) {
                const performanceClass = dayData.netto > 28 ? 'performance-good' : 
                                      dayData.netto > 25 ? 'performance-average' : 'performance-poor';
                cell.innerHTML = `<div class="${performanceClass}">${dayData.netto.toFixed(1)}</div><small>${dayData.siklus} siklus</small>`;
            } else {
                cell.innerHTML = '<span style="color: #94a3b8;">-</span>';
            }
        });
        
        // Average Netto
        const cellAvg = row.insertCell();
        const avgClass = truck.avgNetto > 28 ? 'performance-good' : 
                       truck.avgNetto > 25 ? 'performance-average' : 'performance-poor';
        cellAvg.innerHTML = `<strong class="${avgClass}">${truck.avgNetto.toFixed(2)}</strong>`;
        
        // Total Siklus
        const cellTotal = row.insertCell();
        cellTotal.innerHTML = `<strong>${truck.totalSiklus}</strong>`;
    });
}

// Fungsi untuk mengupdate statistik drilling
function updateDrillingStats() {
    const totalPlatforms = currentDrillingData.length;
    const totalCycles = currentDrillingData.reduce((sum, row) => sum + row.siklus, 0);
    const totalNetto = currentDrillingData.reduce((sum, row) => sum + (row.netto * row.siklus), 0);
    const avgNetto = totalCycles > 0 ? (totalNetto / totalCycles).toFixed(2) : 0;
    
    document.getElementById('drillingTotalPlatforms').textContent = totalPlatforms;
    document.getElementById('drillingTotalCycles').textContent = totalCycles;
    document.getElementById('drillingAvgNetto').textContent = avgNetto;
}

// Fungsi untuk filter data drilling
function filterDrillingData(type) {
    document.querySelectorAll('.drilling-filter-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    
    const buttons = document.querySelectorAll('.drilling-filter-btn');
    buttons.forEach(btn => {
        if ((type === 'all' && btn.textContent === 'All') ||
            (type === 'booster' && btn.textContent === 'Booster') ||
            (type === 'non-booster' && btn.textContent === 'Non Booster')) {
            btn.classList.add('active');
        }
    });

    currentDrillingFilter = type;
    if (type === 'all') {
        currentDrillingData = allDrillingData;
    } else if (type === 'booster') {
        currentDrillingData = boosterDrillingData;
    } else {
        currentDrillingData = nonBoosterDrillingData;
    }

    generateDrillingTable();
    updateDrillingStats();
}

// Fungsi untuk generate tabel drilling
function generateDrillingTable() {
    const tbody = document.getElementById('drillingTableBody');
    tbody.innerHTML = '';

    currentDrillingData.forEach(row => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td class="plat-no">${row.plat_no}</td>
            <td>${row.netto.toFixed(2)}</td>
            <td>${row.siklus}</td>
            <td>${row.gate_to_plug}</td>
            <td>${row.proses_plugging}</td>
            <td>${row.naik_pressure}</td>
            <td>${row.durasi_muat}</td>
            <td>${row.proses_unplugging}</td>
            <td>${row.unplugging_to_gateout}</td>
            <td>${row.port_operation}</td>
            <td>${row.silo_to_port}</td>
        `;
        tbody.appendChild(tr);
    });

    if (currentDrillingData.length > 0) {
        const totalSiklus = currentDrillingData.reduce((sum, row) => sum + row.siklus, 0);
        const totalNetto = currentDrillingData.reduce((sum, row) => sum + (row.netto * row.siklus), 0);
        const avgNetto = totalNetto / totalSiklus;
        
        const timeFields = [
            'gate_to_plug', 'proses_plugging', 'naik_pressure', 
            'durasi_muat', 'proses_unplugging', 'unplugging_to_gateout',
            'port_operation', 'silo_to_port'
        ];
        
        const avgTimes = {};
        timeFields.forEach(field => {
            let totalSeconds = 0;
            currentDrillingData.forEach(row => {
                const timeInSeconds = timeToSeconds(row[field]);
                totalSeconds += timeInSeconds * row.siklus;
            });
            avgTimes[field] = secondsToTime(Math.round(totalSeconds / totalSiklus));
        });

        const avgRow = document.createElement('tr');
        avgRow.className = 'average-row';
        avgRow.innerHTML = `
            <td><strong>Average</strong></td>
            <td><strong>${avgNetto.toFixed(2)}</strong></td>
            <td><strong>${totalSiklus}</strong></td>
            <td><strong>${avgTimes.gate_to_plug}</strong></td>
            <td><strong>${avgTimes.proses_plugging}</strong></td>
            <td><strong>${avgTimes.naik_pressure}</strong></td>
            <td><strong>${avgTimes.durasi_muat}</strong></td>
            <td><strong>${avgTimes.proses_unplugging}</strong></td>
            <td><strong>${avgTimes.unplugging_to_gateout}</strong></td>
            <td><strong>${avgTimes.port_operation}</strong></td>
            <td><strong>${avgTimes.silo_to_port}</strong></td>
        `;
        tbody.appendChild(avgRow);
    }  
}

// Fungsi untuk konversi waktu
function timeToSeconds(timeStr) {
    if (!timeStr || timeStr === '0') return 0;
    const parts = timeStr.split(':');
    return (+parts[0]) * 3600 + (+parts[1]) * 60 + (+parts[2] || 0);
}

function secondsToTime(seconds) {
    const hrs = Math.floor(seconds / 3600);
    const mins = Math.floor((seconds % 3600) / 60);
    const secs = Math.floor(seconds % 60);
    return `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
}

// Fungsi untuk toggle tab
function showTab(tabName) {
    document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
    });
    
    document.querySelectorAll('.tab-button').forEach(btn => {
        btn.classList.remove('active');
    });
    
    document.getElementById(tabName).classList.add('active');
    event.target.classList.add('active');
}   

// Fungsi untuk toggle form
function toggleForms() {
    const formsContainer = document.getElementById('formsContainer');
    const dataTable = document.getElementById('dataTableContainer');
    const button = document.querySelector('.btn-tambah');
    
    if (formsVisible) {
        formsContainer.classList.remove('show');
        dataTable.style.display = 'block';
        button.textContent = '➕ Tambah Data';
        button.style.background = 'linear-gradient(135deg, #ff6b6b, #ee5a24)';
    } else {
        formsContainer.classList.add('show');
        dataTable.style.display = 'none';
        button.textContent = '❌ Tutup Form';
        button.style.background = 'linear-gradient(135deg, #ee5a24, #c23616)';
    }
    formsVisible = !formsVisible;
}

// Fungsi untuk handle form submission
function handleFormSubmit(e) {
    e.preventDefault();
    
    const form1Data = new FormData(document.getElementById('loadingForm1'));
    const form2Data = new FormData(document.getElementById('loadingForm2'));
    const combinedData = Object.fromEntries([...form1Data, ...form2Data]);
    
    addDataToTable(combinedData);
    
    document.getElementById('loadingForm1').reset();
    document.getElementById('loadingForm2').reset();
    
    toggleForms();
}

// Fungsi untuk menambahkan data ke tabel
function addDataToTable(data) {
    const tbody = document.getElementById('dataTableBody');
    
    if (tbody.querySelector('td[colspan]')) {
        tbody.innerHTML = '';
    }
    
    const row = document.createElement('tr');
    row.innerHTML = `
        <td>${data.id || '-'}</td>
        <td>${data.jo || '-'}</td>
        <td>${data.nopol || '-'}</td>
        <td>${data.driver || '-'}</td>
        <td>${data.truck_arrival || '-'}</td>
        <td>${data.scales_wo_alumina || '-'}</td>
        <td>${data.parking || '-'}</td>
        <td>${data.loading_prep_1 || '-'}</td>
        <td>${data.first_load_1st || '-'}</td>
        <td>${data.trimming_1 || '-'}</td>
        <td>${data.second_load_1st || '-'}</td>
        <td>${data.loading_prep_2 || '-'}</td>
        <td>${data.first_load_2nd || '-'}</td>
        <td>${data.trimming_2 || '-'}</td>
        <td>${data.second_load_2nd || '-'}</td>
        <td>${data.cleaning || '-'}</td>
        <td>${data.truck_arrival2 || '-'}</td>
        <td>${data.scales_w_alumina || '-'}</td>
        <td>${data.to_pier || '-'}</td>
        <td>${data.parking2 || '-'}</td>
        <td>${data.air_compressor || '-'}</td>
        <td>${data.loading_vessel || '-'}</td>
        <td>${data.plug_out || '-'}</td>
        <td>${data.to_scales || '-'}</td>
        <td>${data.scales_wo || '-'}</td>
        <td>${data.departure || '-'}</td>
        <td>
            <button onclick="editData(this)" class="action-btn edit-btn">✏️</button>
            <button onclick="deleteData(this)" class="action-btn delete-btn">🗑️</button>
        </td>
    `;
    
    tbody.appendChild(row);
}

// Fungsi untuk edit data
function editData(button) {
    const row = button.closest('tr');
    alert('Edit data: ' + row.cells[0].textContent);
    // Implementasi edit sesuai kebutuhan
}

// Fungsi untuk delete data
function deleteData(button) {
    if (confirm('Apakah Anda yakin ingin menghapus data ini?')) {
        const row = button.closest('tr');
        row.remove();
        
        const tbody = document.getElementById('dataTableBody');
        if (tbody.rows.length === 0) {
            tbody.innerHTML = `
                <tr>
                    <td colspan="27" style="text-align: center; padding: 40px; color: #64748b;">
                        📋 Belum ada data. Klik "Tambah Data Baru" untuk menambahkan data pertama.
                    </td>
                </tr>
            `;
        }
    }
}

// Inisialisasi saat halaman dimuat
document.addEventListener('DOMContentLoaded', function() {
    initCharts();
    generateTruckTable();
    generateDrillingTable();
    updateDrillingStats();
    
    // Event listeners
    document.getElementById('loadingForm1').addEventListener('submit', handleFormSubmit);
    document.getElementById('loadingForm2').addEventListener('submit', handleFormSubmit);
    
    // Set default tab
    showTab('operational');
});
</script>
